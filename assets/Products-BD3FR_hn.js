import{d as M,c as T,b as y,e as t,f as s,w as l,o as h,g as $,l as k,R as z,D as A,_ as C,i as x,n as E,r as _,a as U,k as q,h as g}from"./index-CtWBKoTV.js";import{S as F}from"./SettingOutlined-adrFa0AU.js";const H={class:"table-header"},Z={class:"table-operations"},j=M({__name:"ProductionHeader",props:{filterDeviceModel:String,filterManufacturer:String,searchText:String},emits:["update:filterDeviceModel","update:filterManufacturer","search","refresh","export","settings"],setup(d,{emit:b}){return(o,e)=>{const p=s("a-select-option"),m=s("a-select"),v=s("a-input-search"),i=s("a-button"),u=s("a-tooltip"),c=s("a-space");return h(),T("div",H,[y("div",Z,[t(c,null,{default:l(()=>[t(m,{value:d.filterDeviceModel,placeholder:"设备型号: 全部",style:{width:"150px"},onChange:e[0]||(e[0]=a=>o.$emit("update:filterDeviceModel",a))},{default:l(()=>[t(p,{value:"all"},{default:l(()=>e[6]||(e[6]=[$("全部")])),_:1,__:[6]})]),_:1},8,["value"]),t(m,{value:d.filterManufacturer,placeholder:"生产厂家: 全部",style:{width:"150px"},onChange:e[1]||(e[1]=a=>o.$emit("update:filterManufacturer",a))},{default:l(()=>[t(p,{value:"all"},{default:l(()=>e[7]||(e[7]=[$("全部")])),_:1,__:[7]})]),_:1},8,["value"]),t(v,{value:d.searchText,placeholder:"请输入关键字搜索",style:{width:"200px"},onSearch:e[2]||(e[2]=a=>o.$emit("search",a))},null,8,["value"]),t(i,{type:"primary"},{default:l(()=>e[8]||(e[8]=[$("新增批次")])),_:1,__:[8]}),t(u,{title:"刷新"},{default:l(()=>[t(k(z),{onClick:e[3]||(e[3]=a=>o.$emit("refresh"))})]),_:1}),t(u,{title:"导出"},{default:l(()=>[t(k(A),{onClick:e[4]||(e[4]=a=>o.$emit("export"))})]),_:1}),t(u,{title:"设置"},{default:l(()=>[t(k(F),{onClick:e[5]||(e[5]=a=>o.$emit("settings"))})]),_:1})]),_:1})])])}}}),W=C(j,[["__scopeId","data-v-2536e57b"]]),G=["onClick"],J=["onClick"],K=M({__name:"ProductsTable",props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},loading:{type:Boolean,default:!1},pagination:{type:Object,required:!0}},emits:["change","edit-record","toggle-bom-status","delete-record"],setup(d,{emit:b}){return(o,e)=>{const p=s("a-divider"),m=s("a-popconfirm"),v=s("a-space"),i=s("a-table");return h(),x(i,{columns:d.columns,"data-source":d.data,loading:d.loading,pagination:d.pagination,onChange:e[0]||(e[0]=u=>o.$emit("change",u)),scroll:{x:1310}},{bodyCell:l(({column:u,record:c})=>[u.key==="operation"?(h(),x(v,{key:0},{default:l(()=>[y("a",{onClick:a=>o.$emit("edit-record",c)},"编辑",8,G),t(p,{type:"vertical"}),y("a",{onClick:a=>o.$emit("toggle-bom-status",c)},"上市/下市BOM",8,J),t(p,{type:"vertical"}),t(m,{title:"确定要删除该产品信息吗?",onConfirm:a=>o.$emit("delete-record",c)},{default:l(()=>e[1]||(e[1]=[y("a",{class:"danger-link"},"删除",-1)])),_:2,__:[1]},1032,["onConfirm"])]),_:2},1024)):E("",!0)]),_:1},8,["columns","data-source","loading","pagination"])}}}),L=C(K,[["__scopeId","data-v-ae51283c"]]),Q={class:"account-title-container"},X=M({__name:"ProductionTitle",setup(d){return(b,o)=>(h(),T("div",Q,o[0]||(o[0]=[y("h2",null,"机芯生产",-1)])))}}),Y=C(X,[["__scopeId","data-v-1798fd99"]]),ee={class:"production-container"},te=M({__name:"Products",setup(d){const b=[{title:"序号",dataIndex:"serialNumber",key:"serialNumber",fixed:"left",width:70},{title:"设备型号",dataIndex:"deviceModel",key:"deviceModel",width:120},{title:"发布版本",dataIndex:"releaseVersion",key:"releaseVersion",width:120},{title:"版本号",dataIndex:"versionNumber",key:"versionNumber",sorter:!0,width:120},{title:"内容描述",dataIndex:"contentDescription",key:"contentDescription",width:300},{title:"创建人",dataIndex:"creator",key:"creator",width:100},{title:"发布时间",dataIndex:"releaseTime",key:"releaseTime",sorter:!0,width:150},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",sorter:!0,width:150},{title:"操作",key:"operation",fixed:"right",width:180}],o=_(!1),e=_([]),p=_(""),m=_("all"),v=_("all"),i=U({total:0,current:1,pageSize:3,showSizeChanger:!0,showTotal:n=>`第 ${i.current}-${Math.min(i.current*i.pageSize,n)} 条/共 ${n} 条`}),u=_(!1),c=async()=>{o.value=!0;try{await new Promise(n=>setTimeout(n,1e3)),e.value=Array.from({length:10}).map((n,r)=>({key:`${r+1}`,serialNumber:r+1,deviceModel:"HWSZ001",releaseVersion:"首版",versionNumber:"Z001 V 1.0.0",contentDescription:"1.修改压力传感器间隔采样时间，改为300ms。2.增加复合事件类型：压力+触摸。",creator:"33",releaseTime:"2025-7-13 19:25:11",updateTime:"2025-7-13 19:25:11"})),i.total=43}catch{g.error("Failed to fetch production data")}finally{o.value=!1}},a=n=>{i.current=n.current||1,i.pageSize=n.pageSize||10,c()},w=n=>{console.log("Editing record:",n),g.info("编辑 functionality to be implemented")},S=n=>{console.log("Toggling BOM status for:",n),g.info("上市/下市BOM functionality to be implemented")},D=async n=>{console.log("Deleting record:",n),g.info("删除 functionality to be implemented")},I=n=>{p.value=n,i.current=1,c()},B=()=>{g.info("导出 functionality to be implemented")},N=()=>{g.info("设置 functionality to be implemented")},O=()=>{},P=()=>{},V=()=>{};return q(()=>{c()}),(n,r)=>{const R=s("a-modal");return h(),T("div",ee,[t(Y),t(W,{filterDeviceModel:m.value,"onUpdate:filterDeviceModel":r[0]||(r[0]=f=>m.value=f),filterManufacturer:v.value,"onUpdate:filterManufacturer":r[1]||(r[1]=f=>v.value=f),searchText:p.value,"onUpdate:searchText":r[2]||(r[2]=f=>p.value=f),onSearch:I,onRefresh:c,onExport:B,onSettings:N,onApplyFilters:O,onConfigureColumns:P},null,8,["filterDeviceModel","filterManufacturer","searchText"]),t(L,{columns:b,data:e.value,loading:o.value,pagination:i,onChange:a,onEditRecord:w,onToggleBomStatus:S,onDeleteRecord:D},null,8,["data","loading","pagination"]),t(R,{title:"Configure Table Columns",visible:u.value,"onUpdate:visible":r[3]||(r[3]=f=>u.value=f),onOk:V},null,8,["visible"])])}}}),ae=C(te,[["__scopeId","data-v-e3800568"]]);export{ae as default};
