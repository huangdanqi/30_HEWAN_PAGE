import{d as ce,r as s,q,a as Ie,j as F,i as le,o as C,f as u,w as o,c as X,e as l,b as i,g as v,F as z,p as be,l as S,t as de,C as Se,E as Ze,s as Ve,_ as me,k as Pe,S as Ge,R as Be,m as De,n as Ue}from"./index-DfzAVXA4.js";import{l as fe,t as Oe,C as Ee,d as Ne}from"./vuedraggable.umd-10iW6iGG.js";import{I as Xe}from"./InboxOutlined-C3N9vE2P.js";const Je={style:{display:"flex","justify-content":"flex-end",gap:"8px","margin-top":"16px"}},Re={class:"upload-area"},qe={class:"upload-icon"},He={key:0,class:"file-progress"},We={class:"file-name-row"},$e={class:"upload-actions"},je={key:2,class:"result-area"},ze={class:"result-icon success"},Le={class:"result-icon warning"},Ke={class:"result-icon error"},Qe={class:"result-actions"},Ye=ce({__name:"DeviceImportModal",props:{visible:Boolean,deviceModelOptions:{type:Array,default:()=>[]},productionBatchOptions:{type:Array,default:()=>[]},manufacturerOptions:{type:Array,default:()=>[]}},emits:["update:visible","finish"],setup(M,{emit:H}){const Z=M,f=H,b=s(Z.visible);q(()=>Z.visible,x=>{b.value=x}),q(b,x=>{x||f("update:visible",!1)});const d=s(0),U=s(),y=Ie({deviceModel:"",productionBatch:"",manufacturer:"",burnedFirmware:""}),c={deviceModel:[{required:!0,message:"请选择设备型号"}],productionBatch:[{required:!0,message:"请选择生产批次"}],manufacturer:[{required:!0,message:"请选择生产厂家"}],burnedFirmware:[{required:!0,message:"请输入烧录固件"}]},g=s([]),k=s(""),T=s(0),p=s("success"),W=F(()=>d.value===0?"设备导入-第一步":d.value===1?"设备导入-第二步":"");function $(){U.value.validate().then(()=>{d.value=1})}function B(){d.value=0}function V(){f("update:visible",!1),Y()}function L(){f("finish"),Y()}function ne(x){return k.value=x.name,T.value=0,!1}function j(x){T.value=0,k.value=x.file.name;const n=setInterval(()=>{T.value<100?T.value+=10:clearInterval(n)},100)}function K(){p.value==="success"?p.value="duplicate":p.value==="duplicate"?p.value="error":p.value="success",d.value=2}function oe(){alert("下载重复文件")}function Q(){alert("下载异常文件")}function Y(){d.value=0,k.value="",T.value=0,p.value="success",y.deviceModel="",y.productionBatch="",y.manufacturer="",y.burnedFirmware=""}return(x,n)=>{const I=u("a-step"),D=u("a-steps"),P=u("a-select"),_=u("a-form-item"),w=u("a-input"),h=u("a-button"),ee=u("a-form"),ie=u("a-upload-dragger"),re=u("a-progress"),ue=u("a-file-excel-outlined"),J=u("a-modal");return C(),le(J,{visible:b.value,title:W.value,footer:null,width:540,onCancel:V,class:"device-import-modal"},{default:o(()=>[d.value===0?(C(),X(z,{key:0},[l(D,{current:0,size:"small",style:{"margin-bottom":"24px"}},{default:o(()=>[l(I,{title:"设备录入"}),l(I,{title:"文件导入"})]),_:1}),l(ee,{model:y,rules:c,ref_key:"formRef",ref:U,layout:"vertical"},{default:o(()=>[l(_,{label:"设备型号",name:"deviceModel",required:""},{default:o(()=>[l(P,{value:y.deviceModel,"onUpdate:value":n[0]||(n[0]=G=>y.deviceModel=G),options:M.deviceModelOptions,placeholder:"请选择","allow-clear":""},null,8,["value","options"])]),_:1}),l(_,{label:"生产批次",name:"productionBatch",required:""},{default:o(()=>[l(P,{value:y.productionBatch,"onUpdate:value":n[1]||(n[1]=G=>y.productionBatch=G),options:M.productionBatchOptions,placeholder:"请选择","allow-clear":""},null,8,["value","options"])]),_:1}),l(_,{label:"生产厂家",name:"manufacturer",required:""},{default:o(()=>[l(P,{value:y.manufacturer,"onUpdate:value":n[2]||(n[2]=G=>y.manufacturer=G),options:M.manufacturerOptions,placeholder:"请选择","allow-clear":""},null,8,["value","options"])]),_:1}),l(_,{label:"烧录固件",name:"burnedFirmware",required:""},{default:o(()=>[l(w,{value:y.burnedFirmware,"onUpdate:value":n[3]||(n[3]=G=>y.burnedFirmware=G),placeholder:"请输入"},null,8,["value"])]),_:1}),i("div",Je,[l(h,{onClick:V},{default:o(()=>n[4]||(n[4]=[v("取消")])),_:1,__:[4]}),l(h,{type:"primary",onClick:$},{default:o(()=>n[5]||(n[5]=[v("下一步")])),_:1,__:[5]})])]),_:1},8,["model"])],64)):d.value===1?(C(),X(z,{key:1},[l(D,{current:1,size:"small",style:{"margin-bottom":"24px"}},{default:o(()=>[l(I,{title:"设备录入"}),l(I,{title:"文件导入"})]),_:1}),i("div",Re,[l(ie,{"file-list":g.value,"before-upload":ne,"custom-request":j,"show-upload-list":!1},{default:o(()=>[i("div",qe,[l(S(Xe),{style:{"font-size":"48px",color:"#1677ff","margin-bottom":"8px"}})]),n[6]||(n[6]=i("div",{class:"upload-text"},"点击或拖拽文件到此区域上传",-1)),n[7]||(n[7]=i("div",{class:"upload-hint"},"请上传设备导入文件，支持格式：xls、xlsx。",-1))]),_:1,__:[6,7]},8,["file-list"]),k.value?(C(),X("div",He,[l(re,{percent:T.value,"show-info":!0,style:{width:"90%",margin:"0 auto"}},null,8,["percent"]),i("div",We,[i("span",null,[l(ue,{style:{color:"#52c41a","margin-right":"4px"}}),v(de(k.value),1)]),i("span",null,de(T.value)+"%",1)])])):be("",!0),i("div",$e,[l(h,{onClick:B},{default:o(()=>n[8]||(n[8]=[v("上一步")])),_:1,__:[8]}),l(h,{type:"primary",disabled:!k.value||T.value<100,onClick:K},{default:o(()=>n[9]||(n[9]=[v("确定")])),_:1,__:[9]},8,["disabled"])])])],64)):(C(),X("div",je,[p.value==="success"?(C(),X(z,{key:0},[i("div",ze,[l(S(Se))]),n[10]||(n[10]=i("div",{class:"result-title"},"导入成功",-1)),n[11]||(n[11]=i("div",{class:"result-desc"},"已成功导入XX条设备信息数据",-1))],64)):p.value==="duplicate"?(C(),X(z,{key:1},[i("div",Le,[l(S(Ze))]),n[13]||(n[13]=i("div",{class:"result-title"},"导入数据重复",-1)),n[14]||(n[14]=i("div",{class:"result-desc"},"发现XX条数据重复，设备ID不可重复，如继续导入，等重复数据跳过。请确认，下载重复文件。",-1)),l(h,{type:"link",onClick:oe},{default:o(()=>n[12]||(n[12]=[v("下载重复文件")])),_:1,__:[12]})],64)):(C(),X(z,{key:2},[i("div",Ke,[l(S(Ve))]),n[16]||(n[16]=i("div",{class:"result-title"},"导入失败",-1)),n[17]||(n[17]=i("div",{class:"result-desc"},"导入失败，部分数据格式或数据类型不正确，部分必填字段未填写，且部分数据重复。请下载异常文件。",-1)),l(h,{type:"link",onClick:Q},{default:o(()=>n[15]||(n[15]=[v("下载异常文件")])),_:1,__:[15]})],64)),i("div",Qe,[l(h,{onClick:V},{default:o(()=>n[18]||(n[18]=[v("取消")])),_:1,__:[18]}),l(h,{type:"primary",onClick:L},{default:o(()=>n[19]||(n[19]=[v("确定")])),_:1,__:[19]})])]))]),_:1},8,["visible","title"])}}}),ea=me(Ye,[["__scopeId","data-v-c9fae0e6"]]),aa={style:{display:"flex","justify-content":"center",gap:"16px","margin-top":"24px"}},ta=ce({__name:"OtaConfigModal",props:{visible:Boolean,deviceModelOptions:Array,latestFirmwareOptions:Array,deviceModelValue:[String,Number,Object],latestFirmwareValue:[String,Number,Object]},emits:["update:visible","ok","update:deviceModelValue","update:latestFirmwareValue"],setup(M,{emit:H}){const Z=M,f=H,b=s(Z.deviceModelValue),d=s(Z.latestFirmwareValue);q(()=>Z.deviceModelValue,c=>{b.value=c}),q(()=>Z.latestFirmwareValue,c=>{d.value=c}),q(b,c=>{f("update:deviceModelValue",c)}),q(d,c=>{f("update:latestFirmwareValue",c)});function U(){f("update:visible",!1)}function y(){f("ok",{deviceModelValue:b.value,latestFirmwareValue:d.value})}return(c,g)=>{const k=u("a-select"),T=u("a-form-item"),p=u("a-button"),W=u("a-form"),$=u("a-modal");return C(),le($,{visible:M.visible,title:"OTA配置",footer:null,width:500,onCancel:U,class:"ota-config-modal"},{default:o(()=>[l(W,{layout:"vertical"},{default:o(()=>[l(T,{label:"设备型号",required:""},{default:o(()=>[l(k,{options:M.deviceModelOptions,value:b.value,"onUpdate:value":g[0]||(g[0]=B=>b.value=B),placeholder:"请选择",style:{width:"100%"}},null,8,["options","value"])]),_:1}),l(T,{label:"最新固件",required:""},{default:o(()=>[l(k,{options:M.latestFirmwareOptions,value:d.value,"onUpdate:value":g[1]||(g[1]=B=>d.value=B),placeholder:"请选择",style:{width:"100%"}},null,8,["options","value"])]),_:1}),i("div",aa,[l(p,{onClick:U},{default:o(()=>g[2]||(g[2]=[v("取消")])),_:1,__:[2]}),l(p,{type:"primary",onClick:y},{default:o(()=>g[3]||(g[3]=[v("确定")])),_:1,__:[3]})])]),_:1})]),_:1},8,["visible"])}}}),la=me(ta,[["__scopeId","data-v-8e4e7a8c"]]),na={class:"top-controls-wrapper"},oa={class:"left-aligned-section"},ia={class:"select-container device-model-select",style:{"margin-left":"10px"}},ra={class:"select-container manufacturer-select",style:{"margin-left":"10px"}},ua={class:"right-aligned-icons"},sa={class:"column-setting-panel",style:{"max-height":"300px","overflow-y":"auto"}},da={class:"setting-section"},ca={class:"section-header",style:{display:"flex","justify-content":"space-between"}},ma={class:"column-checkbox-item",style:{padding:"4px 0"}},pa={class:"table-container"},va=["onClick"],fa=ce({__name:"OTA",setup(M,{expose:H}){const Z=F(()=>({...fe,Pagination:{...fe.Pagination,page:""}})),f=[{key:"rowIndex",title:"序号",dataIndex:"rowIndex",width:60,fixed:"left",customRender:({index:t})=>(k.value-1)*T.value+t+1},{key:"deviceId",title:"设备ID",dataIndex:"deviceId",width:180},{key:"bindAccount",title:"绑定子账户",dataIndex:"bindAccount",width:120},{key:"deviceModel",title:"设备型号",dataIndex:"deviceModel",width:100},{key:"productionBatch",title:"生产批次",dataIndex:"productionBatch",width:120},{key:"manufacturer",title:"生产厂家",dataIndex:"manufacturer",width:180},{key:"initFirmware",title:"初始固件",dataIndex:"initFirmware",width:120},{key:"latestFirmware",title:"最新固件",dataIndex:"latestFirmware",width:120},{key:"currentFirmware",title:"当前固件版本",dataIndex:"currentFirmware",width:120},{key:"sn",title:"SN码",dataIndex:"sn",width:180},{key:"efuseId",title:"eFuse ID",dataIndex:"efuseId",width:180},{key:"mac",title:"MAC地址",dataIndex:"mac",width:160},{key:"tempName",title:"蓝牙名称",dataIndex:"tempName",width:160},{key:"imei",title:"IMEI",dataIndex:"imei",width:160},{key:"sim",title:"4G卡号",dataIndex:"sim",width:160},{key:"cpu",title:"CPU序列",dataIndex:"cpu",width:120},{key:"creator",title:"创建人",dataIndex:"creator",width:80},{key:"createTime",title:"创建时间",dataIndex:"createTime",width:160,sorter:(t,e)=>t.createTime.localeCompare(e.createTime),sortDirections:["ascend","descend"]},{key:"updateTime",title:"更新时间",dataIndex:"updateTime",width:160,sorter:(t,e)=>t.updateTime.localeCompare(e.updateTime),sortDirections:["ascend","descend"]}],b=s(f.map(t=>t.key)),d=s(f.map(t=>t.key)),U=t=>t.map(e=>({title:e.title,dataIndex:e.dataIndex,key:e.key,width:e.width,fixed:e.fixed,sorter:e.sorter,sortDirections:e.sortDirections,sortOrder:p.value&&e.key===p.value.columnKey?p.value.order:void 0,defaultSortOrder:e.defaultSortOrder,customRender:e.customRender?e.customRender:({text:a})=>a==null||a===""?"-":a,className:e.className})),y=F(()=>{const t=b.value.filter(a=>d.value.includes(a)).map(a=>f.find(r=>r.key===a)).filter(Boolean);return U(t).sort((a,r)=>{const A={left:1,undefined:2,right:3},O=A[a.fixed]||2,E=A[r.fixed]||2;return O-E})}),c=[{key:1,accountId:"jkhg824&3*g1",phoneNumber:"183****7953",deviceModel:"HWSZ001",deviceId:"0075A1B2SZTD...XJ8",productId:"hjhtwn832nj1",ipRole:"王龙",productModel:"HWSZ001001",currentMemberType:"VIP",memberPayment:"自动续费",memberActivationTime:"2025-06-01 10:00:00",memberExpirationTime:"2026-06-01 10:00:00",fourGCardNumber:"1477629430136",fourGPlan:"500M/月",remainingDataThisMonth:"20M",fourGPayment:"自动续费",fourGActivationTime:"2025-06-01 10:00:00",fourGExpirationTime:"2026-06-01 10:00:00",serviceAnnualFeeBalance:26.35,asrAnnualUsage:"384,3848 tokens",llmAnnualUsage:"384,3848 tokens",ttsAnnualUsage:"213.55 h",voiceCloneAnnualUsage:"213.55 h",registrationTime:"2025-06-01 10:00:00",bindAccount:"183****7953",productionBatch:"2025-06-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z001 V 1.0.1",latestFirmware:"Z001 V 2.0.1",currentFirmware:"Z001 V 1.3.0",sn:"SZTD...XJ8",efuseId:"ESP32-0075A1B2",mac:"DC:54:75:62:66:70",tempName:"Zibbi 001 250619XJ8",imei:"35380100360174",sim:"1477629430136",cpu:"0x1FFFF7E8",creator:"33",createTime:"2025-7-13 19:25:11",updateTime:"2025-7-13 19:25:11"},{key:2,accountId:"jkhg824&3*g2",phoneNumber:"183****7954",deviceModel:"HWSZ002",deviceId:"0075A1B2SZTD...XJ9",productId:"hjhtwn832nj2",ipRole:"张三",productModel:"HWSZ001002",currentMemberType:"普通会员",memberPayment:"赠送",memberActivationTime:"2025-07-01 11:00:00",memberExpirationTime:"2026-07-01 11:00:00",fourGCardNumber:"1477629430137",fourGPlan:"1G/月",remainingDataThisMonth:"50M",fourGPayment:"赠送",fourGActivationTime:"2025-07-01 11:00:00",fourGExpirationTime:"2026-07-01 11:00:00",serviceAnnualFeeBalance:30,asrAnnualUsage:"100,000 tokens",llmAnnualUsage:"200,000 tokens",ttsAnnualUsage:"100.00 h",voiceCloneAnnualUsage:"50.00 h",registrationTime:"2025-07-01 11:00:00",bindAccount:"183****7954",productionBatch:"2025-07-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z002 V 1.0.0",latestFirmware:"Z002 V 2.0.0",currentFirmware:"Z002 V 1.2.0",sn:"SZTD...XJ9",efuseId:"ESP32-0075A1B3",mac:"DC:54:75:62:66:71",tempName:"Zibbi 002 250619XJ9",imei:"35380100360175",sim:"1477629430137",cpu:"0x1FFFF7E9",creator:"34",createTime:"2025-8-13 19:25:11",updateTime:"2025-8-13 19:25:11"},{key:3,accountId:"jkhg824&3*g3",phoneNumber:"183****7955",deviceModel:"HWSZ003",deviceId:"0075A1B2SZTD...XJ0",productId:"hjhtwn832nj3",ipRole:"李四",productModel:"HWSZ001003",currentMemberType:"SVIP",memberPayment:"停止续费",memberActivationTime:"2025-08-01 12:00:00",memberExpirationTime:"2026-08-01 12:00:00",fourGCardNumber:"1477629430138",fourGPlan:"2G/月",remainingDataThisMonth:"100M",fourGPayment:"停止续费",fourGActivationTime:"2025-08-01 12:00:00",fourGExpirationTime:"2026-08-01 12:00:00",serviceAnnualFeeBalance:15.5,asrAnnualUsage:"200,000 tokens",llmAnnualUsage:"300,000 tokens",ttsAnnualUsage:"150.00 h",voiceCloneAnnualUsage:"75.00 h",registrationTime:"2025-08-01 12:00:00",bindAccount:"183****7955",productionBatch:"2025-08-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z003 V 1.0.0",latestFirmware:"Z003 V 2.0.0",currentFirmware:"Z003 V 1.2.0",sn:"SZTD...XJ0",efuseId:"ESP32-0075A1B4",mac:"DC:54:75:62:66:72",tempName:"Zibbi 003 250619XJ0",imei:"35380100360176",sim:"1477629430138",cpu:"0x1FFFF7EA",creator:"35",createTime:"2025-9-13 19:25:11",updateTime:"2025-9-13 19:25:11"},{key:4,accountId:"acc004",phoneNumber:"139****0004",deviceModel:"HWSZ004",deviceId:"0075A1B2SZTD...XJ1",productId:"prod004",ipRole:"赵五",productModel:"HWSZ001004",currentMemberType:"VIP",memberPayment:"自动续费",memberActivationTime:"2025-09-01 13:00:00",memberExpirationTime:"2026-09-01 13:00:00",fourGCardNumber:"1477629430139",fourGPlan:"3G/月",remainingDataThisMonth:"200M",fourGPayment:"自动续费",fourGActivationTime:"2025-09-01 13:00:00",fourGExpirationTime:"2026-09-01 13:00:00",serviceAnnualFeeBalance:40,asrAnnualUsage:"500,000 tokens",llmAnnualUsage:"600,000 tokens",ttsAnnualUsage:"200.00 h",voiceCloneAnnualUsage:"100.00 h",registrationTime:"2025-09-01 13:00:00",bindAccount:"139****0004",productionBatch:"2025-09-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z004 V 1.0.0",latestFirmware:"Z004 V 2.0.0",currentFirmware:"Z004 V 1.2.0",sn:"SZTD...XJ1",efuseId:"ESP32-0075A1B5",mac:"DC:54:75:62:66:73",tempName:"Zibbi 004 250619XJ1",imei:"35380100360177",sim:"1477629430139",cpu:"0x1FFFF7EB",creator:"36",createTime:"2025-10-13 19:25:11",updateTime:"2025-10-13 19:25:11"},{key:5,accountId:"acc005",phoneNumber:"139****0005",deviceModel:"HWSZ005",deviceId:"0075A1B2SZTD...XJ2",productId:"prod005",ipRole:"钱六",productModel:"HWSZ001005",currentMemberType:"普通会员",memberPayment:"赠送",memberActivationTime:"2025-10-01 14:00:00",memberExpirationTime:"2026-10-01 14:00:00",fourGCardNumber:"1477629430140",fourGPlan:"500M/月",remainingDataThisMonth:"80M",fourGPayment:"赠送",fourGActivationTime:"2025-10-01 14:00:00",fourGExpirationTime:"2026-10-01 14:00:00",serviceAnnualFeeBalance:22,asrAnnualUsage:"120,000 tokens",llmAnnualUsage:"220,000 tokens",ttsAnnualUsage:"110.00 h",voiceCloneAnnualUsage:"60.00 h",registrationTime:"2025-10-01 14:00:00",bindAccount:"139****0005",productionBatch:"2025-10-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z005 V 1.0.0",latestFirmware:"Z005 V 2.0.0",currentFirmware:"Z005 V 1.2.0",sn:"SZTD...XJ2",efuseId:"ESP32-0075A1B6",mac:"DC:54:75:62:66:74",tempName:"Zibbi 005 250619XJ2",imei:"35380100360178",sim:"1477629430140",cpu:"0x1FFFF7EC",creator:"37",createTime:"2025-11-13 19:25:11",updateTime:"2025-11-13 19:25:11"},{key:6,accountId:"acc006",phoneNumber:"139****0006",deviceModel:"HWSZ006",deviceId:"0075A1B2SZTD...XJ3",productId:"prod006",ipRole:"孙七",productModel:"HWSZ001006",currentMemberType:"SVIP",memberPayment:"停止续费",memberActivationTime:"2025-11-01 15:00:00",memberExpirationTime:"2026-11-01 15:00:00",fourGCardNumber:"1477629430141",fourGPlan:"1G/月",remainingDataThisMonth:"120M",fourGPayment:"停止续费",fourGActivationTime:"2025-11-01 15:00:00",fourGExpirationTime:"2026-11-01 15:00:00",serviceAnnualFeeBalance:18.75,asrAnnualUsage:"250,000 tokens",llmAnnualUsage:"350,000 tokens",ttsAnnualUsage:"160.00 h",voiceCloneAnnualUsage:"80.00 h",registrationTime:"2025-11-01 15:00:00",bindAccount:"139****0006",productionBatch:"2025-11-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z006 V 1.0.0",latestFirmware:"Z006 V 2.0.0",currentFirmware:"Z006 V 1.2.0",sn:"SZTD...XJ3",efuseId:"ESP32-0075A1B7",mac:"DC:54:75:62:66:75",tempName:"Zibbi 006 250619XJ3",imei:"35380100360179",sim:"1477629430141",cpu:"0x1FFFF7ED",creator:"38",createTime:"2025-12-13 19:25:11",updateTime:"2025-12-13 19:25:11"},{key:7,accountId:"acc007",phoneNumber:"139****0007",deviceModel:"HWSZ007",deviceId:"0075A1B2SZTD...XJ4",productId:"prod007",ipRole:"周八",productModel:"HWSZ001007",currentMemberType:"VIP",memberPayment:"自动续费",memberActivationTime:"2025-12-01 16:00:00",memberExpirationTime:"2026-12-01 16:00:00",fourGCardNumber:"1477629430142",fourGPlan:"2G/月",remainingDataThisMonth:"300M",fourGPayment:"自动续费",fourGActivationTime:"2025-12-01 16:00:00",fourGExpirationTime:"2026-12-01 16:00:00",serviceAnnualFeeBalance:50,asrAnnualUsage:"600,000 tokens",llmAnnualUsage:"700,000 tokens",ttsAnnualUsage:"250.00 h",voiceCloneAnnualUsage:"120.00 h",registrationTime:"2025-12-01 16:00:00",bindAccount:"139****0007",productionBatch:"2025-12-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z007 V 1.0.0",latestFirmware:"Z007 V 2.0.0",currentFirmware:"Z007 V 1.2.0",sn:"SZTD...XJ4",efuseId:"ESP32-0075A1B8",mac:"DC:54:75:62:66:76",tempName:"Zibbi 007 250619XJ4",imei:"35380100360180",sim:"1477629430142",cpu:"0x1FFFF7EE",creator:"39",createTime:"2026-1-13 19:25:11",updateTime:"2026-1-13 19:25:11"},{key:8,accountId:"acc008",phoneNumber:"139****0008",deviceModel:"HWSZ008",deviceId:"0075A1B2SZTD...XJ5",productId:"prod008",ipRole:"吴九",productModel:"HWSZ001008",currentMemberType:"普通会员",memberPayment:"赠送",memberActivationTime:"2026-01-01 17:00:00",memberExpirationTime:"2027-01-01 17:00:00",fourGCardNumber:"1477629430143",fourGPlan:"3G/月",remainingDataThisMonth:"400M",fourGPayment:"赠送",fourGActivationTime:"2026-01-01 17:00:00",fourGExpirationTime:"2027-01-01 17:00:00",serviceAnnualFeeBalance:28,asrAnnualUsage:"130,000 tokens",llmAnnualUsage:"230,000 tokens",ttsAnnualUsage:"120.00 h",voiceCloneAnnualUsage:"70.00 h",registrationTime:"2026-01-01 17:00:00",bindAccount:"139****0008",productionBatch:"2026-01-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z008 V 1.0.0",latestFirmware:"Z008 V 2.0.0",currentFirmware:"Z008 V 1.2.0",sn:"SZTD...XJ5",efuseId:"ESP32-0075A1B9",mac:"DC:54:75:62:66:77",tempName:"Zibbi 008 250619XJ5",imei:"35380100360181",sim:"1477629430143",cpu:"0x1FFFF7EF",creator:"40",createTime:"2026-2-13 19:25:11",updateTime:"2026-2-13 19:25:11"},{key:9,accountId:"acc009",phoneNumber:"139****0009",deviceModel:"HWSZ009",deviceId:"0075A1B2SZTD...XJ6",productId:"prod009",ipRole:"郑十",productModel:"HWSZ001009",currentMemberType:"SVIP",memberPayment:"停止续费",memberActivationTime:"2026-02-01 18:00:00",memberExpirationTime:"2027-02-01 18:00:00",fourGCardNumber:"1477629430144",fourGPlan:"500M/月",remainingDataThisMonth:"500M",fourGPayment:"停止续费",fourGActivationTime:"2026-02-01 18:00:00",fourGExpirationTime:"2027-02-01 18:00:00",serviceAnnualFeeBalance:19,asrAnnualUsage:"270,000 tokens",llmAnnualUsage:"370,000 tokens",ttsAnnualUsage:"170.00 h",voiceCloneAnnualUsage:"90.00 h",registrationTime:"2026-02-01 18:00:00",bindAccount:"139****0009",productionBatch:"2026-02-28",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z009 V 1.0.0",latestFirmware:"Z009 V 2.0.0",currentFirmware:"Z009 V 1.2.0",sn:"SZTD...XJ6",efuseId:"ESP32-0075A1C0",mac:"DC:54:75:62:66:78",tempName:"Zibbi 009 250619XJ6",imei:"35380100360182",sim:"1477629430144",cpu:"0x1FFFF7F0",creator:"41",createTime:"2026-3-13 19:25:11",updateTime:"2026-3-13 19:25:11"},{key:10,accountId:"acc010",phoneNumber:"139****0010",deviceModel:"HWSZ010",deviceId:"0075A1B2SZTD...XJ7",productId:"prod010",ipRole:"王十一",productModel:"HWSZ001010",currentMemberType:"VIP",memberPayment:"自动续费",memberActivationTime:"2026-03-01 19:00:00",memberExpirationTime:"2027-03-01 19:00:00",fourGCardNumber:"1477629430145",fourGPlan:"1G/月",remainingDataThisMonth:"600M",fourGPayment:"自动续费",fourGActivationTime:"2026-03-01 19:00:00",fourGExpirationTime:"2027-03-01 19:00:00",serviceAnnualFeeBalance:55,asrAnnualUsage:"700,000 tokens",llmAnnualUsage:"800,000 tokens",ttsAnnualUsage:"300.00 h",voiceCloneAnnualUsage:"150.00 h",registrationTime:"2026-03-01 19:00:00",bindAccount:"139****0010",productionBatch:"2026-03-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z010 V 1.0.0",latestFirmware:"Z010 V 2.0.0",currentFirmware:"Z010 V 1.2.0",sn:"SZTD...XJ7",efuseId:"ESP32-0075A1C1",mac:"DC:54:75:62:66:79",tempName:"Zibbi 010 250619XJ7",imei:"35380100360183",sim:"1477629430145",cpu:"0x1FFFF7F1",creator:"42",createTime:"2026-4-13 19:25:11",updateTime:"2026-4-13 19:25:11"},{key:11,accountId:"acc011",phoneNumber:"139****0011",deviceModel:"HWSZ011",deviceId:"0075A1B2SZTD...XJ8",productId:"prod011",ipRole:"李十二",productModel:"HWSZ001011",currentMemberType:"普通会员",memberPayment:"赠送",memberActivationTime:"2026-04-01 20:00:00",memberExpirationTime:"2027-04-01 20:00:00",fourGCardNumber:"1477629430146",fourGPlan:"2G/月",remainingDataThisMonth:"700M",fourGPayment:"赠送",fourGActivationTime:"2026-04-01 20:00:00",fourGExpirationTime:"2027-04-01 20:00:00",serviceAnnualFeeBalance:32,asrAnnualUsage:"150,000 tokens",llmAnnualUsage:"250,000 tokens",ttsAnnualUsage:"130.00 h",voiceCloneAnnualUsage:"80.00 h",registrationTime:"2026-04-01 20:00:00",bindAccount:"139****0011",productionBatch:"2026-04-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z011 V 1.0.0",latestFirmware:"Z011 V 2.0.0",currentFirmware:"Z011 V 1.2.0",sn:"SZTD...XJ8",efuseId:"ESP32-0075A1C2",mac:"DC:54:75:62:66:80",tempName:"Zibbi 011 250619XJ8",imei:"35380100360184",sim:"1477629430146",cpu:"0x1FFFF7F2",creator:"43",createTime:"2026-5-13 19:25:11",updateTime:"2026-5-13 19:25:11"},{key:12,accountId:"acc012",phoneNumber:"139****0012",deviceModel:"HWSZ012",deviceId:"0075A1B2SZTD...XJ9",productId:"prod012",ipRole:"赵十三",productModel:"HWSZ001012",currentMemberType:"SVIP",memberPayment:"停止续费",memberActivationTime:"2026-05-01 21:00:00",memberExpirationTime:"2027-05-01 21:00:00",fourGCardNumber:"1477629430147",fourGPlan:"3G/月",remainingDataThisMonth:"800M",fourGPayment:"停止续费",fourGActivationTime:"2026-05-01 21:00:00",fourGExpirationTime:"2027-05-01 21:00:00",serviceAnnualFeeBalance:20,asrAnnualUsage:"300,000 tokens",llmAnnualUsage:"400,000 tokens",ttsAnnualUsage:"180.00 h",voiceCloneAnnualUsage:"100.00 h",registrationTime:"2026-05-01 21:00:00",bindAccount:"139****0012",productionBatch:"2026-05-30",manufacturer:"深圳沃能威科技有限公司",initFirmware:"Z012 V 1.0.0",latestFirmware:"Z012 V 2.0.0",currentFirmware:"Z012 V 1.2.0",sn:"SZTD...XJ9",efuseId:"ESP32-0075A1C3",mac:"DC:54:75:62:66:81",tempName:"Zibbi 012 250619XJ9",imei:"35380100360185",sim:"1477629430147",cpu:"0x1FFFF7F3",creator:"44",createTime:"2026-6-13 19:25:11",updateTime:"2026-6-13 19:25:11"}];console.log("Raw Data:",c);const g=s({key:"all",label:"全部",value:"all"});F(()=>{const e=Array.from(new Set(c.map(a=>a.ipRole))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]});const k=s(1),T=s(10);console.log("Initial ipRoleValue:",g.value);const p=s({columnKey:"updateTime",order:"descend"}),W=F(()=>({total:c.length,current:k.value,pageSize:T.value,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showTotal:(t,e)=>`第${e[0]}-${e[1]}条/共${t}条`,showQuickJumper:{goButton:"页"},onShowSizeChange:(t,e)=>{console.log("onShowSizeChange",t,e),k.value=t,T.value=e},onChange:(t,e)=>{console.log("onChange",t,e),k.value=t,T.value=e}})),$=()=>{console.log("Refresh button clicked!"),j.value=!0,V.value="",k.value=1,Q(),g.value={key:"all",label:"全部",value:"all"},n.value={key:"all",label:"全部",value:"all"},I.value={key:"all",label:"全部",value:"all"},P.value={key:"all",label:"全部",value:"all"},D.value={key:"all",label:"全部",value:"all"},_.value={key:"all",label:"全部",value:"all"},w.value={key:"all",label:"全部",value:"all"},setTimeout(()=>{j.value=!1},500)},B=F(()=>{var e;let t=[...c];if(V.value){const a=V.value.toLowerCase();t=t.filter(r=>Object.values(r).some(A=>typeof A=="string"&&A.toLowerCase().includes(a)))}if(g.value&&g.value.value!=="all"&&g.value.value!==""){const a=g.value.value;t=t.filter(r=>r.ipRole===a)}if(n.value&&n.value.value!=="all"&&n.value.value!==""){const a=n.value.value;t=t.filter(r=>r.currentMemberType===a)}if(I.value&&I.value.value!=="all"&&I.value.value!==""){const a=I.value.value;t=t.filter(r=>r.memberPayment===a)}if(D.value&&D.value.value!=="all"&&D.value.value!==""){const a=D.value.value;t=t.filter(r=>r.fourGPayment===a)}if(P.value&&P.value.value!=="all"&&P.value.value!==""){const a=P.value.value;t=t.filter(r=>r.fourGPlan===a)}if(_.value&&_.value.value!=="all"&&_.value.value!==""){const a=_.value.value;t=t.filter(r=>r.deviceModel===a)}if(w.value&&w.value.value!=="all"&&w.value.value!==""){const a=w.value.value;t=t.filter(r=>r.manufacturer===a)}if(te.value&&te.value.value!=="all"&&te.value.value!==""){const a=te.value.value;t=t.filter(r=>r.latestFirmware===a)}if(p.value&&p.value.order){const{columnKey:a,order:r}=p.value,A=(e=f.find(O=>O.key===a))==null?void 0:e.sorter;A&&t.sort((O,E)=>{const R=A(O,E);return r==="ascend"?R:-R})}return t}),V=s(""),L=(t,e,a)=>{console.log("Table change:",t,e,a);const r=Array.isArray(a)?a[0]:a;r&&r.order?p.value={columnKey:r.columnKey,order:r.order}:p.value={columnKey:"updateTime",order:"descend"},k.value=1},ne=()=>{console.log("Setting clicked")},j=s(!1),K=s("middle"),oe=({key:t})=>{K.value=t},Q=()=>{d.value=f.map(t=>t.key),b.value=f.map(t=>t.key)},Y=t=>{const{newIndex:e,oldIndex:a}=t,r=b.value[a],A=[...b.value];A.splice(a,1),A.splice(e,0,r),b.value=A},x=(t,e)=>{e?d.value.includes(t)||d.value.push(t):d.value=d.value.filter(a=>a!==t)},n=s({key:"all",label:"全部",value:"all"});F(()=>{const e=Array.from(new Set(c.map(a=>a.currentMemberType))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]});const I=s({key:"all",label:"全部",value:"all"});F(()=>{const e=Array.from(new Set(c.map(a=>a.memberPayment))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]});const D=s({key:"all",label:"全部",value:"all"});F(()=>{const e=Array.from(new Set(c.map(a=>a.fourGPayment))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]});const P=s({key:"all",label:"全部",value:"all"});F(()=>{const e=Array.from(new Set(c.map(a=>a.fourGPlan))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]});const _=s({key:"all",label:"全部",value:"all"}),w=s({key:"all",label:"全部",value:"all"}),h=F(()=>{const e=Array.from(new Set(c.map(a=>a.deviceModel))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]}),ee=F(()=>{const e=Array.from(new Set(c.map(a=>a.manufacturer))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]}),ie=F(()=>{const e=Array.from(new Set(c.map(a=>a.productionBatch))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]}),re=t=>{!t||!t.value||t.value==="all"?_.value={key:"all",label:"全部",value:"all"}:_.value=t},ue=t=>{!t||!t.value||t.value==="all"?w.value={key:"all",label:"全部",value:"all"}:w.value=t},J=s(!1),G=()=>{J.value=!0},ye=()=>{J.value=!1},ae=s(!1),te=s({key:"all",label:"全部",value:"all"}),ge=F(()=>{const e=Array.from(new Set(c.map(a=>a.latestFirmware))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]});function ke(){ae.value=!1}const pe=s({key:"all",label:"全部",value:"all"}),ve=s({key:"all",label:"全部",value:"all"});return Pe(()=>{d.value=f.map(t=>t.key)}),H({handleTableChange:L}),(t,e)=>{const a=u("a-select-option"),r=u("a-select"),A=u("a-tooltip"),O=u("a-input"),E=u("a-button"),R=u("a-menu-item"),Te=u("a-menu"),_e=u("a-dropdown"),Ae=u("a-checkbox"),Fe=u("a-popover"),we=u("a-divider"),he=u("a-popconfirm"),Ce=u("a-space"),Me=u("a-table"),xe=u("a-config-provider");return C(),le(xe,{locale:Z.value,theme:{algorithm:S(Oe).defaultAlgorithm}},{default:o(()=>[e[22]||(e[22]=i("div",{class:"title-container"},[i("h2",null,"设备OTA")],-1)),i("div",na,[i("div",oa,[i("div",ia,[e[11]||(e[11]=i("span",{class:"select-always-placeholder"},"设备型号:",-1)),l(A,{title:_.value.label},{default:o(()=>[l(r,{value:_.value,"onUpdate:value":e[0]||(e[0]=m=>_.value=m),style:{width:"120px"},options:h.value,onChange:re,allowClear:!0,"label-in-value":""},{default:o(()=>[l(a,{value:"all"},{default:o(()=>e[10]||(e[10]=[v("全部")])),_:1,__:[10]})]),_:1},8,["value","options"])]),_:1},8,["title"])]),i("div",ra,[e[13]||(e[13]=i("span",{class:"select-always-placeholder"},"生产厂家:",-1)),l(A,{title:w.value.label},{default:o(()=>[l(r,{value:w.value,"onUpdate:value":e[1]||(e[1]=m=>w.value=m),style:{width:"120px"},options:ee.value,onChange:ue,allowClear:!0,"label-in-value":""},{default:o(()=>[l(a,{value:"all"},{default:o(()=>e[12]||(e[12]=[v("全部")])),_:1,__:[12]})]),_:1},8,["value","options"])]),_:1},8,["title"])])]),i("div",ua,[l(O,{value:V.value,"onUpdate:value":e[2]||(e[2]=m=>V.value=m),placeholder:"输入关键字搜索",style:{width:"200px"}},{prefix:o(()=>[l(S(Ge))]),_:1},8,["value"]),l(E,{type:"primary",onClick:G},{default:o(()=>e[14]||(e[14]=[v("设备导入")])),_:1,__:[14]}),l(E,{type:"primary",onClick:e[3]||(e[3]=m=>ae.value=!0)},{default:o(()=>e[15]||(e[15]=[v("OTA配置")])),_:1,__:[15]}),l(S(Be),{onClick:$}),l(_e,null,{overlay:o(()=>[l(Te,{onClick:oe},{default:o(()=>[l(R,{key:"large"},{default:o(()=>e[16]||(e[16]=[v("宽松")])),_:1,__:[16]}),l(R,{key:"middle"},{default:o(()=>e[17]||(e[17]=[v("中等")])),_:1,__:[17]}),l(R,{key:"small"},{default:o(()=>e[18]||(e[18]=[v("紧凑")])),_:1,__:[18]})]),_:1})]),default:o(()=>[l(S(Ee),{onClick:e[4]||(e[4]=De(()=>{},["prevent"]))})]),_:1}),l(Fe,{trigger:"click",placement:"bottomRight"},{content:o(()=>[i("div",sa,[i("div",da,[i("div",ca,[e[20]||(e[20]=i("span",null,"列展示",-1)),l(E,{type:"link",onClick:Q},{default:o(()=>e[19]||(e[19]=[v("重置")])),_:1,__:[19]})]),l(S(Ne),{modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=m=>b.value=m),"item-key":"key",onEnd:Y,class:"column-checkbox-group"},{item:o(({element:m})=>[i("div",ma,[l(Ae,{checked:d.value.includes(m),onChange:N=>x(m,N.target.checked)},{default:o(()=>{var N;return[v(de((N=f.find(se=>se.key===m))==null?void 0:N.title),1)]}),_:2},1032,["checked","onChange"])])]),_:1},8,["modelValue"])])])]),default:o(()=>[l(S(Ue),{onClick:ne})]),_:1})])]),i("div",pa,[l(Me,{columns:y.value,"data-source":B.value,pagination:B.value.length===0?!1:W.value,loading:j.value,size:K.value,scroll:{x:3e3},onChange:L,showSorterTooltip:!1},{bodyCell:o(({column:m,record:N})=>[m.key==="operation_24"?(C(),le(Ce,{key:0,class:"action-cell",direction:"horizontal"},{default:o(()=>[i("a",{class:"edit-link",onClick:se=>t.$emit("edit-record",N)},"编辑",8,va),l(we,{type:"vertical"}),l(he,{title:"确定要删除该信息吗?",onConfirm:se=>t.$emit("delete-record",N)},{default:o(()=>e[21]||(e[21]=[i("a",{class:"danger-link"},"删除",-1)])),_:2,__:[21]},1032,["onConfirm"])]),_:2},1024)):be("",!0)]),_:1},8,["columns","data-source","pagination","loading","size"])]),l(ea,{visible:J.value,"onUpdate:visible":e[6]||(e[6]=m=>J.value=m),deviceModelOptions:h.value,manufacturerOptions:ee.value,productionBatchOptions:ie.value,onFinish:ye},null,8,["visible","deviceModelOptions","manufacturerOptions","productionBatchOptions"]),l(la,{visible:ae.value,"onUpdate:visible":e[7]||(e[7]=m=>ae.value=m),deviceModelOptions:h.value,latestFirmwareOptions:ge.value,deviceModelValue:pe.value,"onUpdate:deviceModelValue":e[8]||(e[8]=m=>pe.value=m),latestFirmwareValue:ve.value,"onUpdate:latestFirmwareValue":e[9]||(e[9]=m=>ve.value=m),onOk:ke},null,8,["visible","deviceModelOptions","latestFirmwareOptions","deviceModelValue","latestFirmwareValue"])]),_:1,__:[22]},8,["locale","theme"])}}}),ka=me(fa,[["__scopeId","data-v-b531aec7"]]);export{ka as default};
