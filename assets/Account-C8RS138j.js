import{d as ge,j as _,r as d,k as _e,i as N,w as o,l as A,f as r,o as B,b as s,e as n,g as f,S as ke,R as be,m as he,t as we,n as Te,_ as xe}from"./index-BCGmAcLz.js";import{l as E,t as Ce,C as Ie,d as Ae}from"./vuedraggable.umd-LclwGZ1c.js";import{S as De}from"./SettingOutlined-aohGgLY9.js";const Pe={class:"top-controls-wrapper"},Ge={class:"left-aligned-section"},Se={class:"select-container ip-role-select",style:{"margin-left":"10px"}},Ue={class:"select-container member-type-select",style:{"margin-left":"10px"}},Me={class:"select-container member-payment-select",style:{"margin-left":"10px"}},Fe={class:"select-container fourg-plan-select",style:{"margin-left":"10px"}},Re={class:"select-container fourg-payment-select",style:{"margin-left":"10px"}},Oe={class:"right-aligned-icons"},Ve={class:"column-setting-panel",style:{"max-height":"300px","overflow-y":"auto"}},$e={class:"setting-section"},Ne={class:"section-header",style:{display:"flex","justify-content":"space-between"}},Be={class:"column-checkbox-item",style:{padding:"4px 0"}},Ee={class:"table-container"},qe=["onClick"],ze=ge({__name:"Account",setup(je,{expose:q}){const z=_(()=>({...E,Pagination:{...E.Pagination,page:""}})),k=[{key:"rowIndex",title:"序号",dataIndex:"rowIndex",width:60,fixed:"left",customRender:({index:e})=>(I.value-1)*G.value+e+1},{key:"accountId_1",title:"账户ID",dataIndex:"accountId",width:150},{key:"phoneNumber_2",title:"手机号",dataIndex:"phoneNumber",width:120},{key:"deviceModel",title:"设备型号",dataIndex:"deviceModel",width:100},{key:"deviceId_4",title:"设备ID",dataIndex:"deviceId",width:150},{key:"productId_5",title:"商品ID",dataIndex:"productId",width:150},{key:"ipRole_6",title:"IP角色",dataIndex:"ipRole",width:80},{key:"productModel_7",title:"产品型号",dataIndex:"productModel",width:120},{key:"currentMemberType_8",title:"当前会员类型",dataIndex:"currentMemberType",width:120},{key:"memberPayment_9",title:"会员付费",dataIndex:"memberPayment",width:100},{key:"memberActivationTime_10",title:"会员激活时间",dataIndex:"memberActivationTime",width:150,sorter:(e,a)=>new Date(e.memberActivationTime).getTime()-new Date(a.memberActivationTime).getTime(),sortDirections:["ascend","descend"]},{key:"memberExpirationTime_11",title:"会员到期时间",dataIndex:"memberExpirationTime",width:150,sorter:(e,a)=>new Date(e.memberExpirationTime).getTime()-new Date(a.memberExpirationTime).getTime(),sortDirections:["ascend","descend"]},{key:"fourGCardNumber_12",title:"4G卡号",dataIndex:"fourGCardNumber",width:120},{key:"4GPlan_13",title:"4G套餐",dataIndex:"fourGPlan",width:100},{key:"remainingDataThisMonth_14",title:"当月剩余流量",dataIndex:"remainingDataThisMonth",width:120,sorter:(e,a)=>parseFloat(e.remainingDataThisMonth)-parseFloat(a.remainingDataThisMonth),sortDirections:["ascend","descend"]},{key:"4GPayment_15",title:"4G付费",dataIndex:"4GPayment",width:100},{key:"4GActivationTime_16",title:"4G激活时间",dataIndex:"fourGActivationTime",width:150,sorter:(e,a)=>new Date(e.fourGActivationTime).getTime()-new Date(a.fourGActivationTime).getTime(),sortDirections:["ascend","descend"]},{key:"4GExpirationTime_17",title:"4G到期时间",dataIndex:"fourGExpirationTime",width:150,sorter:(e,a)=>new Date(e.fourGExpirationTime).getTime()-new Date(a.fourGExpirationTime).getTime(),sortDirections:["ascend","descend"]},{key:"serviceAnnualFeeBalance_18",title:"服务年费用余额 (元)",dataIndex:"serviceAnnualFeeBalance",width:180,className:"nowrap-header",sorter:(e,a)=>e.serviceAnnualFeeBalance-a.serviceAnnualFeeBalance,sortDirections:["ascend","descend"]},{key:"asrAnnualUsage_19",title:"ASR年用量",dataIndex:"asrAnnualUsage",width:120,sorter:(e,a)=>parseFloat(e.asrAnnualUsage)-parseFloat(a.asrAnnualUsage),sortDirections:["ascend","descend"]},{key:"llmAnnualUsage_20",title:"LLM年用量",dataIndex:"llmAnnualUsage",width:120,sorter:(e,a)=>parseFloat(e.llmAnnualUsage)-parseFloat(a.llmAnnualUsage),sortDirections:["ascend","descend"]},{key:"ttsAnnualUsage_21",title:"TTS年用量",dataIndex:"ttsAnnualUsage",width:120,sorter:(e,a)=>parseFloat(e.ttsAnnualUsage)-parseFloat(a.ttsAnnualUsage),sortDirections:["ascend","descend"]},{key:"voiceCloneAnnualUsage_22",title:"音色克隆年用量",dataIndex:"voiceCloneAnnualUsage",width:150,sorter:(e,a)=>parseFloat(e.voiceCloneAnnualUsage)-parseFloat(a.voiceCloneAnnualUsage),sortDirections:["ascend","descend"]},{key:"registrationTime_23",title:"注册时间",dataIndex:"registrationTime",width:150,sorter:(e,a)=>new Date(e.registrationTime).getTime()-new Date(a.registrationTime).getTime(),sortDirections:["ascend","descend"]},{key:"updateTime",title:"更新时间",dataIndex:"updateTime",width:160,sorter:(e,a)=>new Date(e.updateTime).getTime()-new Date(a.updateTime).getTime(),sortDirections:["ascend","descend"]}],w=d(k.map(e=>e.key)),b=d(k.map(e=>e.key)),j=e=>e.map(a=>({title:a.title,dataIndex:a.dataIndex,key:a.key,width:a.width,fixed:a.fixed,sorter:a.sorter,sortDirections:a.sortDirections,sortOrder:h.value&&a.key===h.value.columnKey?h.value.order:void 0,customRender:a.customRender?a.customRender:({text:l})=>l==null||l===""?"-":l,className:a.className})),H=_(()=>{const e=w.value.filter(l=>b.value.includes(l)).map(l=>k.find(t=>t.key===l)).filter(Boolean);return j(e).sort((l,t)=>{const i={left:1,undefined:2,right:3},T=i[l.fixed]||2,x=i[t.fixed]||2;return T-x})}),g=[],F=["普通会员","VIP","SVIP"],P=["自动续费","赠送","停止续费","未续购"];for(let e=0;e<100;e++){const a=new Date(2025,5,23,23,25,33);a.setDate(a.getDate()+e),a.setHours(a.getHours()+e%24),a.setMinutes(a.getMinutes()+e%60),a.setSeconds(a.getSeconds()+e%60);const l=a.toISOString().slice(0,19).replace("T"," "),t=new Date(a);t.setDate(a.getDate()+20);const i=t.toISOString().slice(0,19).replace("T"," ");g.push({key:e+1,accountId:`jkhg824&3*g${e%10}`,phoneNumber:`183****${7950+e%10}`,deviceModel:`HWSZ00${e%2===0?"1":"2"}`,deviceId:`0075A1B2SZTD${1e3+e}`,productId:`hjhtwn832nj${e}`,ipRole:e%2===0?"王龙":"张三",productModel:`HWSZ00100${e%3}`,currentMemberType:F[e%F.length],memberPayment:P[e%P.length],memberActivationTime:l,memberExpirationTime:i,fourGCardNumber:`1477629430${10+e}`,fourGPlan:`${500+e%3*100}M/月`,remainingDataThisMonth:`${20+e%5}M`,fourGPayment:P[(e+1)%P.length],fourGActivationTime:l,fourGExpirationTime:i,serviceAnnualFeeBalance:26.35+e%5,asrAnnualUsage:"384,3848 tokens",llmAnnualUsage:"384,3848 tokens",ttsAnnualUsage:"213.55 h",voiceCloneAnnualUsage:"213.55 h",registrationTime:l,updateTime:l})}console.log("Raw Data:",g);const c=d({key:"all",label:"全部",value:"all"}),K=_(()=>{const a=Array.from(new Set(g.map(l=>l.ipRole))).map(l=>({key:l,value:l,label:l}));return[{key:"all",value:"all",label:"全部"},...a]}),L=e=>{!e||!e.value||e.value==="all"?c.value={key:"all",label:"全部",value:"all"}:c.value=e},I=d(1),G=d(10);console.log("Initial ipRoleValue:",c.value);const h=d({columnKey:"updateTime",order:"descend"}),Z=_(()=>({total:g.length,current:I.value,pageSize:G.value,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showTotal:(e,a)=>`第${a[0]}-${a[1]}条/共${e}条`,showQuickJumper:{goButton:"页"},onShowSizeChange:(e,a)=>{console.log("onShowSizeChange",e,a),I.value=e,G.value=a},onChange:(e,a)=>{console.log("onChange",e,a),I.value=e,G.value=a}})),W=()=>{console.log("Refresh button clicked!"),U.value=!0,D.value="",I.value=1,$(),c.value={key:"all",label:"全部",value:"all"},m.value={key:"all",label:"全部",value:"all"},v.value={key:"all",label:"全部",value:"all"},y.value={key:"all",label:"全部",value:"all"},p.value={key:"all",label:"全部",value:"all"},setTimeout(()=>{U.value=!1},500)},R=_(()=>{var a;let e=g;if(D.value){const l=D.value.toLowerCase();e=e.filter(t=>Object.values(t).some(i=>typeof i=="string"&&i.toLowerCase().includes(l)))}if(c.value&&c.value.value!=="all"&&c.value.value!==""){const l=c.value.value;e=e.filter(t=>t.ipRole===l)}if(m.value&&m.value.value!=="all"&&m.value.value!==""){const l=m.value.value;e=e.filter(t=>t.currentMemberType===l)}if(v.value&&v.value.value!=="all"&&v.value.value!==""){const l=v.value.value;e=e.filter(t=>t.memberPayment===l)}if(p.value&&p.value.value!=="all"&&p.value.value!==""){const l=p.value.value;e=e.filter(t=>t.fourGPayment===l)}if(y.value&&y.value.value!=="all"&&y.value.value!==""){const l=y.value.value;e=e.filter(t=>t.fourGPlan===l)}if(h.value&&h.value.order){const{columnKey:l,order:t}=h.value,i=(a=k.find(T=>T.key===l))==null?void 0:a.sorter;i&&e.sort((T,x)=>{const S=i(T,x);return t==="ascend"?S:-S})}return e}),D=d(""),O=(e,a,l)=>{console.log("Table change:",e,a,l);const t=Array.isArray(l)?l[0]:l;t&&t.order?h.value={columnKey:t.columnKey,order:t.order}:h.value={columnKey:"updateTime",order:"descend"},I.value=1},J=()=>{console.log("Setting clicked")},U=d(!1),V=d("middle"),Q=({key:e})=>{V.value=e},$=()=>{b.value=k.map(e=>e.key),w.value=k.map(e=>e.key)},X=e=>{const{newIndex:a,oldIndex:l}=e,t=w.value[l],i=[...w.value];i.splice(l,1),i.splice(a,0,t),w.value=i},Y=(e,a)=>{a?b.value.includes(e)||b.value.push(e):b.value=b.value.filter(l=>l!==e)},m=d({key:"all",label:"全部",value:"all"}),ee=_(()=>{const a=Array.from(new Set(g.map(l=>l.currentMemberType))).map(l=>({key:l,value:l,label:l}));return[{key:"all",value:"all",label:"全部"},...a]}),ae=e=>{!e||!e.value||e.value==="all"?m.value={key:"all",label:"全部",value:"all"}:m.value=e},v=d({key:"all",label:"全部",value:"all"}),le=_(()=>{const a=Array.from(new Set(g.map(l=>l.memberPayment))).map(l=>({key:l,value:l,label:l}));return[{key:"all",value:"all",label:"全部"},...a]}),te=e=>{!e||!e.value||e.value==="all"?v.value={key:"all",label:"全部",value:"all"}:v.value=e},p=d({key:"all",label:"全部",value:"all"}),ne=_(()=>{const a=Array.from(new Set(g.map(l=>l.fourGPayment))).map(l=>({key:l,value:l,label:l}));return[{key:"all",value:"all",label:"全部"},...a]}),oe=e=>{!e||!e.value||e.value==="all"?p.value={key:"all",label:"全部",value:"all"}:p.value=e},y=d({key:"all",label:"全部",value:"all"}),se=_(()=>{const a=Array.from(new Set(g.map(l=>l.fourGPlan))).map(l=>({key:l,value:l,label:l}));return[{key:"all",value:"all",label:"全部"},...a]}),ie=e=>{!e||!e.value||e.value==="all"?y.value={key:"all",label:"全部",value:"all"}:y.value=e};return _e(()=>{b.value=k.map(e=>e.key)}),q({handleTableChange:O}),(e,a)=>{const l=r("a-select-option"),t=r("a-select"),i=r("a-tooltip"),T=r("a-input"),x=r("a-menu-item"),S=r("a-menu"),ue=r("a-dropdown"),re=r("a-button"),de=r("a-checkbox"),ce=r("a-popover"),me=r("a-divider"),ve=r("a-popconfirm"),pe=r("a-space"),ye=r("a-table"),fe=r("a-config-provider");return B(),N(fe,{locale:z.value,theme:{algorithm:A(Ce).defaultAlgorithm}},{default:o(()=>[a[24]||(a[24]=s("div",{class:"title-container"},[s("h2",null,"账户信息")],-1)),s("div",Pe,[s("div",Ge,[s("div",Se,[a[9]||(a[9]=s("span",{class:"select-always-placeholder"},"IP角色:",-1)),n(i,{title:c.value.label},{default:o(()=>[n(t,{value:c.value,"onUpdate:value":a[0]||(a[0]=u=>c.value=u),style:{width:"110px"},options:K.value,onChange:L,allowClear:!0,"label-in-value":""},{default:o(()=>[n(l,{value:"all"},{default:o(()=>a[8]||(a[8]=[f("全部")])),_:1,__:[8]})]),_:1},8,["value","options"])]),_:1},8,["title"])]),s("div",Ue,[a[11]||(a[11]=s("span",{class:"select-always-placeholder"},"当前会员类型:",-1)),n(i,{title:m.value.label},{default:o(()=>[n(t,{value:m.value,"onUpdate:value":a[1]||(a[1]=u=>m.value=u),style:{width:"150px"},options:ee.value,onChange:ae,allowClear:!0,"label-in-value":""},{default:o(()=>[n(l,{value:"all"},{default:o(()=>a[10]||(a[10]=[f("全部")])),_:1,__:[10]})]),_:1},8,["value","options"])]),_:1},8,["title"])]),s("div",Me,[a[13]||(a[13]=s("span",{class:"select-always-placeholder"},"会员付费:",-1)),n(i,{title:v.value.label},{default:o(()=>[n(t,{value:v.value,"onUpdate:value":a[2]||(a[2]=u=>v.value=u),style:{width:"120px"},options:le.value,onChange:te,allowClear:!0,"label-in-value":""},{default:o(()=>[n(l,{value:"all"},{default:o(()=>a[12]||(a[12]=[f("全部")])),_:1,__:[12]})]),_:1},8,["value","options"])]),_:1},8,["title"])]),s("div",Fe,[a[15]||(a[15]=s("span",{class:"select-always-placeholder"},"4G套餐:",-1)),n(i,{title:y.value.label},{default:o(()=>[n(t,{value:y.value,"onUpdate:value":a[3]||(a[3]=u=>y.value=u),style:{width:"120px"},options:se.value,onChange:ie,allowClear:!0,"label-in-value":""},{default:o(()=>[n(l,{value:"all"},{default:o(()=>a[14]||(a[14]=[f("全部")])),_:1,__:[14]})]),_:1},8,["value","options"])]),_:1},8,["title"])]),s("div",Re,[a[17]||(a[17]=s("span",{class:"select-always-placeholder"},"4G付费:",-1)),n(i,{title:p.value.label},{default:o(()=>[n(t,{value:p.value,"onUpdate:value":a[4]||(a[4]=u=>p.value=u),style:{width:"120px"},options:ne.value,onChange:oe,allowClear:!0,"label-in-value":""},{default:o(()=>[n(l,{value:"all"},{default:o(()=>a[16]||(a[16]=[f("全部")])),_:1,__:[16]})]),_:1},8,["value","options"])]),_:1},8,["title"])])]),s("div",Oe,[n(T,{value:D.value,"onUpdate:value":a[5]||(a[5]=u=>D.value=u),placeholder:"输入关键字搜索",style:{width:"200px"}},{prefix:o(()=>[n(A(ke))]),_:1},8,["value"]),n(A(be),{onClick:W}),n(ue,null,{overlay:o(()=>[n(S,{onClick:Q},{default:o(()=>[n(x,{key:"large"},{default:o(()=>a[18]||(a[18]=[f("宽松")])),_:1,__:[18]}),n(x,{key:"middle"},{default:o(()=>a[19]||(a[19]=[f("中等")])),_:1,__:[19]}),n(x,{key:"small"},{default:o(()=>a[20]||(a[20]=[f("紧凑")])),_:1,__:[20]})]),_:1})]),default:o(()=>[n(A(Ie),{onClick:a[6]||(a[6]=he(()=>{},["prevent"]))})]),_:1}),n(ce,{trigger:"click",placement:"bottomRight"},{content:o(()=>[s("div",Ve,[s("div",$e,[s("div",Ne,[a[22]||(a[22]=s("span",null,"列展示",-1)),n(re,{type:"link",onClick:$},{default:o(()=>a[21]||(a[21]=[f("重置")])),_:1,__:[21]})]),n(A(Ae),{modelValue:w.value,"onUpdate:modelValue":a[7]||(a[7]=u=>w.value=u),"item-key":"key",onEnd:X,class:"column-checkbox-group"},{item:o(({element:u})=>[s("div",Be,[n(de,{checked:b.value.includes(u),onChange:C=>Y(u,C.target.checked)},{default:o(()=>{var C;return[f(we((C=k.find(M=>M.key===u))==null?void 0:C.title),1)]}),_:2},1032,["checked","onChange"])])]),_:1},8,["modelValue"])])])]),default:o(()=>[n(A(De),{onClick:J})]),_:1})])]),s("div",Ee,[n(ye,{columns:H.value,"data-source":R.value,pagination:R.value.length===0?!1:Z.value,loading:U.value,size:V.value,scroll:{x:1e3},onChange:O,showSorterTooltip:!1},{bodyCell:o(({column:u,record:C})=>[u.key==="operation_24"?(B(),N(pe,{key:0,class:"action-cell",direction:"horizontal"},{default:o(()=>[s("a",{class:"edit-link",onClick:M=>e.$emit("edit-record",C)},"编辑",8,qe),n(me,{type:"vertical"}),n(ve,{title:"确定要删除该信息吗?",onConfirm:M=>e.$emit("delete-record",C)},{default:o(()=>a[23]||(a[23]=[s("a",{class:"danger-link"},"删除",-1)])),_:2,__:[23]},1032,["onConfirm"])]),_:2},1024)):Te("",!0)]),_:1},8,["columns","data-source","pagination","loading","size"])])]),_:1,__:[24]},8,["locale","theme"])}}}),Ze=xe(ze,[["__scopeId","data-v-4fcfe7a0"]]);export{Ze as default};
