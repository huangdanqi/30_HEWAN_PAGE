import{d as oe,j as C,r as m,k as le,i as P,w as o,l as f,f as d,o as O,b as i,e as n,g as h,S as ie,R as se,m as de,t as re,n as ue,_ as ce}from"./index-CtWBKoTV.js";import{l as $,t as me,C as pe,d as ve}from"./vuedraggable.umd-BEfuS-FY.js";import{S as _e}from"./SettingOutlined-adrFa0AU.js";const ge={class:"top-controls-wrapper"},he={class:"left-aligned-section"},ke={class:"select-container",style:{"margin-left":"10px"}},ye={class:"right-aligned-icons"},fe={class:"column-setting-panel",style:{"max-height":"300px","overflow-y":"auto"}},xe={class:"setting-section"},we={class:"section-header",style:{display:"flex","justify-content":"space-between"}},Ie={class:"column-checkbox-item",style:{padding:"4px 0"}},Ce={class:"table-container"},be=["onClick"],Te=oe({__name:"DemoPage2",setup(Se,{expose:U}){const V=C(()=>({...$,Pagination:{...$.Pagination,page:""}})),p=[{key:"rowIndex",title:"序号",dataIndex:"rowIndex",width:60,fixed:"left",customRender:({index:t})=>(k.value-1)*y.value+t+1},{key:"accountId_1",title:"账户ID",dataIndex:"accountId",width:150},{key:"phoneNumber_2",title:"手机号",dataIndex:"phoneNumber",width:120},{key:"deviceModel_3",title:"设备型号",dataIndex:"deviceModel",width:100},{key:"deviceId_4",title:"设备ID",dataIndex:"deviceId",width:150},{key:"productId_5",title:"商品ID",dataIndex:"productId",width:150},{key:"ipRole_6",title:"IP角色",dataIndex:"ipRole",width:80},{key:"productModel_7",title:"产品型号",dataIndex:"productModel",width:120},{key:"currentMemberType_8",title:"当前会员类型",dataIndex:"currentMemberType",width:120},{key:"memberPayment_9",title:"会员付费",dataIndex:"memberPayment",width:100},{key:"memberActivationTime_10",title:"会员激活时间",dataIndex:"memberActivationTime",width:150,sorter:(t,e)=>new Date(t.memberActivationTime).getTime()-new Date(e.memberActivationTime).getTime(),sortDirections:["ascend","descend"],defaultSortOrder:"descend"},{key:"memberExpirationTime_11",title:"会员到期时间",dataIndex:"memberExpirationTime",width:150},{key:"fourGCardNumber_12",title:"4G卡号",dataIndex:"fourGCardNumber",width:120},{key:"4GPlan_13",title:"4G套餐",dataIndex:"4GPlan",width:100},{key:"remainingDataThisMonth_14",title:"当月剩余流量",dataIndex:"remainingDataThisMonth",width:120},{key:"4GPayment_15",title:"4G付费",dataIndex:"4GPayment",width:100},{key:"4GActivationTime_16",title:"4G激活时间",dataIndex:"4GActivationTime",width:150},{key:"4GExpirationTime_17",title:"4G到期时间",dataIndex:"4GExpirationTime",width:150},{key:"serviceAnnualFeeBalance_18",title:"服务年费用余额 (元)",dataIndex:"serviceAnnualFeeBalance",width:150},{key:"asrAnnualUsage_19",title:"ASR年用量",dataIndex:"asrAnnualUsage",width:120},{key:"llmAnnualUsage_20",title:"LLM年用量",dataIndex:"llmAnnualUsage",width:120},{key:"ttsAnnualUsage_21",title:"TTS年用量",dataIndex:"ttsAnnualUsage",width:120},{key:"voiceCloneAnnualUsage_22",title:"音色克隆年用量",dataIndex:"voiceCloneAnnualUsage",width:150},{key:"registrationTime_23",title:"注册时间",dataIndex:"registrationTime",width:150},{key:"operation_24",title:"操作",dataIndex:"",width:100,fixed:"right"}],v=m(p.map(t=>t.key)),c=m(p.map(t=>t.key)),N=t=>t.map(e=>({title:e.title,dataIndex:e.dataIndex,key:e.key,width:e.width,fixed:e.fixed,sorter:e.sorter,sortDirections:e.sortDirections,defaultSortOrder:e.defaultSortOrder,customRender:e.customRender?e.customRender:({text:a})=>a==null||a===""?"-":a})),B=C(()=>{const t=v.value.filter(a=>c.value.includes(a)).map(a=>p.find(s=>s.key===a)).filter(Boolean);return N(t).sort((a,s)=>{const l={left:1,undefined:2,right:3},_=l[a.fixed]||2,I=l[s.fixed]||2;return _-I})}),x=[],A=["普通会员","VIP","SVIP"],b=["自动续费","赠送","停止续费","未续购"];for(let t=0;t<100;t++){const e=new Date(2025,5,23,23,25,33);e.setDate(e.getDate()+t),e.setHours(e.getHours()+t%24),e.setMinutes(e.getMinutes()+t%60),e.setSeconds(e.getSeconds()+t%60);const a=e.toISOString().slice(0,19).replace("T"," "),s=new Date(e);s.setDate(e.getDate()+20);const l=s.toISOString().slice(0,19).replace("T"," ");x.push({key:t+1,accountId:`jkhg824&3*g${t%10}`,phoneNumber:`183****${7950+t%10}`,deviceModel:`HWSZ00${t%2===0?"1":"2"}`,deviceId:`0075A1B2SZTD${1e3+t}`,productId:`hjhtwn832nj${t}`,ipRole:t%2===0?"王龙":"张三",productModel:`HWSZ00100${t%3}`,currentMemberType:A[t%A.length],memberPayment:b[t%b.length],memberActivationTime:a,memberExpirationTime:l,fourGCardNumber:`1477629430${10+t}`,fourGPlan:`${500+t%3*100}M/月`,remainingDataThisMonth:`${20+t%5}M`,fourGPayment:b[(t+1)%b.length],fourGActivationTime:a,fourGExpirationTime:l,serviceAnnualFeeBalance:26.35+t%5,asrAnnualUsage:"384,3848 tokens",llmAnnualUsage:"384,3848 tokens",ttsAnnualUsage:"213.55 h",voiceCloneAnnualUsage:"213.55 h",registrationTime:a})}console.log("Raw Data:",x);const u=m({key:"all",label:"全部",value:"all"}),z=C(()=>{const e=Array.from(new Set(x.map(a=>a.ipRole))).map(a=>({key:a,value:a,label:a}));return[{key:"all",value:"all",label:"全部"},...e]}),F=t=>{!t||!t.value||t.value==="all"?u.value={key:"all",label:"全部",value:"all"}:u.value=t},k=m(1),y=m(10);console.log("Initial ipRoleValue:",u.value);const E=C(()=>({total:x.length,current:k.value,pageSize:y.value,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showTotal:(t,e)=>`第${e[0]}-${e[1]}条/共${t}条`,showQuickJumper:{goButton:"页"},onShowSizeChange:(t,e)=>{console.log("onShowSizeChange",t,e),k.value=t,y.value=e},onChange:(t,e)=>{console.log("onChange",t,e),k.value=t,y.value=e}})),j=()=>{console.log("Refresh button clicked!"),T.value=!0,w.value="",k.value=1,M(),setTimeout(()=>{T.value=!1},500)},D=C(()=>{let t=x;if(w.value){const s=w.value.toLowerCase();t=t.filter(l=>Object.values(l).some(_=>typeof _=="string"&&_.toLowerCase().includes(s)))}if(u.value&&u.value.value!=="all"&&u.value.value!==""){const s=u.value.value;t=t.filter(l=>l.ipRole===s)}const e=(k.value-1)*y.value,a=e+y.value;return t.slice(e,a)}),w=m(""),R=(t,e,a)=>{console.log("Table change:",t,e,a)},H=()=>{console.log("Setting clicked")},T=m(!1),G=m("middle"),L=({key:t})=>{G.value=t},M=()=>{c.value=p.map(t=>t.key),v.value=p.map(t=>t.key)},Z=t=>{const{newIndex:e,oldIndex:a}=t,s=v.value[a],l=[...v.value];l.splice(a,1),l.splice(e,0,s),v.value=l},q=(t,e)=>{e?c.value.includes(t)||c.value.push(t):c.value=c.value.filter(a=>a!==t)},W=()=>{console.log("版本发布 button clicked!")};return le(()=>{c.value=p.map(t=>t.key)}),U({handleTableChange:R}),(t,e)=>{const a=d("a-select-option"),s=d("a-select"),l=d("a-input"),_=d("a-button"),I=d("a-menu-item"),J=d("a-menu"),Q=d("a-dropdown"),X=d("a-checkbox"),Y=d("a-popover"),K=d("a-divider"),ee=d("a-popconfirm"),te=d("a-space"),ae=d("a-table"),ne=d("a-config-provider");return O(),P(ne,{locale:V.value,theme:{algorithm:f(me).defaultAlgorithm}},{default:o(()=>[e[13]||(e[13]=i("div",{class:"title-container"},[i("h2",null,"Demo page")],-1)),i("div",ge,[i("div",he,[i("div",ke,[e[5]||(e[5]=i("span",{class:"select-always-placeholder"},"IP角色:",-1)),n(s,{value:u.value,"onUpdate:value":e[0]||(e[0]=r=>u.value=r),style:{width:"120px"},options:z.value,onChange:F,allowClear:!0,"label-in-value":""},{default:o(()=>[n(a,{value:"all"},{default:o(()=>e[4]||(e[4]=[h("全部")])),_:1,__:[4]})]),_:1},8,["value","options"])])]),i("div",ye,[n(l,{value:w.value,"onUpdate:value":e[1]||(e[1]=r=>w.value=r),placeholder:"输入关键字搜索",style:{width:"200px"}},{prefix:o(()=>[n(f(ie))]),_:1},8,["value"]),n(_,{type:"primary",onClick:W},{default:o(()=>e[6]||(e[6]=[h("版本发布")])),_:1,__:[6]}),n(f(se),{onClick:j}),n(Q,null,{overlay:o(()=>[n(J,{onClick:L},{default:o(()=>[n(I,{key:"large"},{default:o(()=>e[7]||(e[7]=[h("宽松")])),_:1,__:[7]}),n(I,{key:"middle"},{default:o(()=>e[8]||(e[8]=[h("中等")])),_:1,__:[8]}),n(I,{key:"small"},{default:o(()=>e[9]||(e[9]=[h("紧凑")])),_:1,__:[9]})]),_:1})]),default:o(()=>[n(f(pe),{onClick:e[2]||(e[2]=de(()=>{},["prevent"]))})]),_:1}),n(Y,{trigger:"click",placement:"bottomRight"},{content:o(()=>[i("div",fe,[i("div",xe,[i("div",we,[e[11]||(e[11]=i("span",null,"列展示",-1)),n(_,{type:"link",onClick:M},{default:o(()=>e[10]||(e[10]=[h("重置")])),_:1,__:[10]})]),n(f(ve),{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=r=>v.value=r),"item-key":"key",onEnd:Z,class:"column-checkbox-group"},{item:o(({element:r})=>[i("div",Ie,[n(X,{checked:c.value.includes(r),onChange:g=>q(r,g.target.checked)},{default:o(()=>{var g;return[h(re((g=p.find(S=>S.key===r))==null?void 0:g.title),1)]}),_:2},1032,["checked","onChange"])])]),_:1},8,["modelValue"])])])]),default:o(()=>[n(f(_e),{onClick:H})]),_:1})])]),i("div",Ce,[n(ae,{columns:B.value,"data-source":D.value,pagination:D.value.length===0?!1:E.value,loading:T.value,size:G.value,scroll:{x:3e3,y:400,scrollToFirstRowOnChange:!0},onChange:R,showSorterTooltip:!1},{bodyCell:o(({column:r,record:g})=>[r.key==="operation_24"?(O(),P(te,{key:0,class:"action-cell",direction:"horizontal"},{default:o(()=>[i("a",{class:"edit-link",onClick:S=>t.$emit("edit-record",g)},"编辑",8,be),n(K,{type:"vertical"}),n(ee,{title:"确定要删除该信息吗?",onConfirm:S=>t.$emit("delete-record",g)},{default:o(()=>e[12]||(e[12]=[i("a",{class:"danger-link"},"删除",-1)])),_:2,__:[12]},1032,["onConfirm"])]),_:2},1024)):ue("",!0)]),_:1},8,["columns","data-source","pagination","loading","size"])])]),_:1,__:[13]},8,["locale","theme"])}}}),Ge=ce(Te,[["__scopeId","data-v-7d0b9106"]]);export{Ge as default};
