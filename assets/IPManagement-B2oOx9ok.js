import{d as ue,j as P,r as c,k as ce,i as j,w as o,l as y,f as s,o as U,b as i,e as t,S as pe,g as p,R as me,m as fe,t as ve,n as ge,h as _e,_ as Ie}from"./index-BCGmAcLz.js";import{l as L,t as he,C as ye,d as we}from"./vuedraggable.umd-LclwGZ1c.js";import{F as ke}from"./FirmwareReleaseModal-D5BAUaK-.js";import{F as be}from"./FirmwareEditModal-1htRelc7.js";import{S as xe}from"./SettingOutlined-aohGgLY9.js";import"./InboxOutlined-Bj5fpIPV.js";const Ce={class:"top-controls-wrapper"},Pe={class:"right-aligned-icons"},Se={class:"column-setting-panel",style:{"max-height":"300px","overflow-y":"auto"}},Ae={class:"setting-section"},De={class:"section-header",style:{display:"flex","justify-content":"space-between"}},Te={class:"column-checkbox-item",style:{padding:"4px 0"}},Re={class:"table-container"},Me={style:{display:"flex","justify-content":"center",gap:"16px","margin-top":"24px"}},Be=ue({__name:"IPManagement",setup(Ve,{expose:$}){const z=P(()=>({...L,Pagination:{...L.Pagination,page:""}})),m=[{key:"rowIndex",title:"序号",dataIndex:"rowIndex",width:60,fixed:"left",customRender:({index:a})=>(I.value-1)*b.value+a+1},{key:"ipId",title:"IP ID",dataIndex:"ipId",width:120},{key:"ipName",title:"IP名称",dataIndex:"ipName",width:120},{key:"ipIntro",title:"IP介绍",dataIndex:"ipIntro",width:320},{key:"ipFirmware",title:"IP音频库",dataIndex:"ipFirmware",width:250},{key:"ipData",title:"IP素材库",dataIndex:"ipData",width:250},{key:"agentBasicId",title:"Agent Basic ID",dataIndex:"agentBasicId",width:200},{key:"agentBasicApi",title:"Agent Basic API",dataIndex:"agentBasicApi",width:250},{key:"agentProId",title:"Agent Pro ID",dataIndex:"agentProId",width:150},{key:"agentProApi",title:"Agent Pro API",dataIndex:"agentProApi",width:250},{key:"agentSvipId",title:"Agent SVIP ID",dataIndex:"agentSvipId",width:150},{key:"agentSvipApi",title:"Agent SVIP API",dataIndex:"agentSvipApi",width:230},{key:"creator",title:"创建人",dataIndex:"creator",width:80},{key:"createTime",title:"创建时间",dataIndex:"createTime",width:160,sorter:(a,e)=>new Date(a.createTime).getTime()-new Date(e.createTime).getTime(),sortDirections:["ascend","descend"]},{key:"updateTime",title:"更新时间",dataIndex:"updateTime",width:160,sorter:(a,e)=>new Date(a.updateTime).getTime()-new Date(e.updateTime).getTime(),sortDirections:["ascend","descend"]},{key:"operation",title:"操作",dataIndex:"",width:100,fixed:"right"}],g=c(m.map(a=>a.key)),f=c(m.map(a=>a.key)),N=a=>a.map(e=>({title:e.title,dataIndex:e.dataIndex,key:e.key,width:e.width,fixed:e.fixed,sorter:e.sorter,sortDirections:e.sortDirections,sortOrder:v.value&&e.key===v.value.columnKey?v.value.order:void 0,defaultSortOrder:e.defaultSortOrder,customRender:e.customRender?e.customRender:({text:l})=>l==null||l===""?"-":l})),E=P(()=>{const a=g.value.filter(l=>f.value.includes(l)).map(l=>m.find(n=>n.key===l)).filter(Boolean);return N(a).sort((l,n)=>{const d={left:1,undefined:2,right:3},_=d[l.fixed]||2,k=d[n.fixed]||2;return _-k})}),M=Array.from({length:10},(a,e)=>({ipId:"hjwan832nj2r",ipName:"哆啦A梦",ipIntro:"硬核  题库: 白羊座·MBTI: INFP; 画板: 火; 估价: ...",ipFirmware:"https://example.com/firmware.bin",ipData:"https://example.com/firmware.bin",agentBasicId:"hjwan832nj2r",agentBasicApi:"https://example.com/firmware.bin",agentProId:"hjwan832nj2r",agentProApi:"https://example.com/firmware.bin",agentSvipId:"hjwan832nj2r",agentSvipApi:"https://example.com/firmware.bin",creator:"33",createTime:`2025-7-13 19:${(25+e).toString().padStart(2,"0")}:11`,updateTime:`2025-7-13 19:${(30+e).toString().padStart(2,"0")}:51`}));console.log("Raw Data:",M);const I=c(1),b=c(10),v=c({columnKey:"updateTime",order:"descend"}),K=P(()=>({total:S.value.length,current:I.value,pageSize:b.value,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showTotal:(a,e)=>`第${e[0]}-${e[1]}条/共${a}条`,showQuickJumper:{goButton:"页"},onShowSizeChange:(a,e)=>{console.log("onShowSizeChange",a,e),I.value=a,b.value=e},onChange:(a,e)=>{console.log("onChange",a,e),I.value=a,b.value=e}})),q=()=>{console.log("Refresh button clicked!"),A.value=!0,w.value="",I.value=1,F(),setTimeout(()=>{A.value=!1},500)},S=P(()=>{var e;let a=[...M];if(w.value){const l=w.value.toLowerCase();a=a.filter(n=>Object.values(n).some(d=>typeof d=="string"&&d.toLowerCase().includes(l)))}if(v.value&&v.value.order){const{columnKey:l,order:n}=v.value,d=(e=m.find(_=>_.key===l))==null?void 0:e.sorter;d&&a.sort((_,k)=>{const C=d(_,k);return n==="ascend"?C:-C})}return a}),w=c(""),B=(a,e,l)=>{console.log("Table change:",a,e,l);const n=Array.isArray(l)?l[0]:l;n&&n.order?v.value={columnKey:n.columnKey,order:n.order}:v.value={columnKey:"updateTime",order:"descend"},I.value=1},H=()=>{console.log("Setting clicked")},A=c(!1),V=c("middle"),J=({key:a})=>{V.value=a},F=()=>{f.value=m.map(a=>a.key),g.value=m.map(a=>a.key)},Q=a=>{const{newIndex:e,oldIndex:l}=a,n=g.value[l],d=[...g.value];d.splice(l,1),d.splice(e,0,n),g.value=d},G=(a,e)=>{e?f.value.includes(a)||f.value.push(a):f.value=f.value.filter(l=>l!==a)},D=c(!1),W=()=>{D.value=!1},X=a=>{D.value=!1},T=c(!1),R=c(null),Y=()=>{_e.info("开发中")},Z=()=>{T.value=!1,R.value=null},ee=a=>{T.value=!1,R.value=null},x=c(!1);return ce(()=>{f.value=m.map(a=>a.key)}),$({handleTableChange:B}),(a,e)=>{const l=s("a-input"),n=s("a-button"),d=s("a-menu-item"),_=s("a-menu"),k=s("a-dropdown"),C=s("a-checkbox"),te=s("a-popover"),ae=s("a-divider"),le=s("a-popconfirm"),oe=s("a-space"),ne=s("a-table"),r=s("a-form-item"),ie=s("a-textarea"),de=s("a-form"),se=s("a-modal"),re=s("a-config-provider");return U(),j(re,{locale:z.value,theme:{algorithm:y(he).defaultAlgorithm}},{default:o(()=>[e[19]||(e[19]=i("div",{class:"title-container"},[i("h2",null,"IP管理")],-1)),i("div",Ce,[i("div",Pe,[t(l,{value:w.value,"onUpdate:value":e[0]||(e[0]=u=>w.value=u),placeholder:"输入关键字搜索",style:{width:"200px"}},{prefix:o(()=>[t(y(pe))]),_:1},8,["value"]),t(n,{type:"primary",onClick:e[1]||(e[1]=u=>x.value=!0)},{default:o(()=>e[6]||(e[6]=[p("新建 IP")])),_:1,__:[6]}),t(y(me),{onClick:q}),t(k,null,{default:o(()=>[t(y(ye),{onClick:e[2]||(e[2]=fe(()=>{},["prevent"]))}),t(_,{onClick:J},{default:o(()=>[t(d,{key:"large"},{default:o(()=>e[7]||(e[7]=[p("宽松")])),_:1,__:[7]}),t(d,{key:"middle"},{default:o(()=>e[8]||(e[8]=[p("中等")])),_:1,__:[8]}),t(d,{key:"small"},{default:o(()=>e[9]||(e[9]=[p("紧凑")])),_:1,__:[9]})]),_:1})]),_:1}),t(te,{trigger:"click",placement:"bottomRight"},{content:o(()=>[i("div",Se,[i("div",Ae,[i("div",De,[e[11]||(e[11]=i("span",null,"列展示",-1)),t(n,{type:"link",onClick:F},{default:o(()=>e[10]||(e[10]=[p("重置")])),_:1,__:[10]})]),t(y(we),{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=u=>g.value=u),"item-key":"key",onEnd:Q,class:"column-checkbox-group"},{item:o(({element:u})=>[i("div",Te,[t(C,{checked:f.value.includes(u),onChange:h=>G(u,h.target.checked)},{default:o(()=>{var h;return[p(ve((h=m.find(O=>O.key===u))==null?void 0:h.title),1)]}),_:2},1032,["checked","onChange"])])]),_:1},8,["modelValue"])])])]),default:o(()=>[t(y(xe),{onClick:H})]),_:1})])]),i("div",Re,[t(ne,{columns:E.value,"data-source":S.value,pagination:S.value.length===0?!1:K.value,loading:A.value,size:V.value,scroll:{x:1e3},onChange:B,showSorterTooltip:!1},{bodyCell:o(({column:u,record:h})=>[u.key==="operation"?(U(),j(oe,{key:0,class:"action-cell",direction:"horizontal"},{default:o(()=>[i("a",{class:"edit-link",onClick:Y},"编辑"),t(ae,{type:"vertical"}),t(le,{title:"确定要删除该信息吗?",onConfirm:O=>a.$emit("delete-record",h)},{default:o(()=>e[12]||(e[12]=[i("a",{class:"danger-link"},"删除",-1)])),_:2,__:[12]},1032,["onConfirm"])]),_:2},1024)):ge("",!0)]),_:1},8,["columns","data-source","pagination","loading","size"])]),t(ke,{visible:D.value,"onUpdate:visible":W,onSubmit:X},null,8,["visible"]),t(be,{visible:T.value,record:R.value,"onUpdate:visible":Z,onSubmit:ee},null,8,["visible","record"]),t(se,{visible:x.value,"onUpdate:visible":e[5]||(e[5]=u=>x.value=u),title:"新建IP",footer:null,width:"500px"},{default:o(()=>[t(de,{layout:"vertical"},{default:o(()=>[t(r,{required:""},{label:o(()=>e[13]||(e[13]=[i("span",{style:{color:"#ff4d4f"}},"*",-1),p(" IP名称 ")])),default:o(()=>[t(l,{placeholder:"请输入"})]),_:1}),t(r,{required:""},{label:o(()=>e[14]||(e[14]=[i("span",{style:{color:"#ff4d4f"}},"*",-1),p(" IP音频库 ")])),default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),t(r,{required:""},{label:o(()=>e[15]||(e[15]=[i("span",{style:{color:"#ff4d4f"}},"*",-1),p(" IP素材库 ")])),default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),t(r,{required:""},{label:o(()=>e[16]||(e[16]=[i("span",{style:{color:"#ff4d4f"}},"*",-1),p(" IP介绍 ")])),default:o(()=>[t(ie,{placeholder:"请输入",rows:"4"})]),_:1}),t(r,{label:"Agent Basic ID"},{default:o(()=>[t(l,{placeholder:"请输入ID"})]),_:1}),t(r,{label:"Agent Basic API"},{default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),t(r,{label:"Agent Pro ID"},{default:o(()=>[t(l,{placeholder:"请输入ID"})]),_:1}),t(r,{label:"Agent Pro API"},{default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),t(r,{label:"Agent SVIP ID"},{default:o(()=>[t(l,{placeholder:"请输入ID"})]),_:1}),t(r,{label:"Agent SVIP API"},{default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),t(r,{label:"TTS ID"},{default:o(()=>[t(l,{placeholder:"请输入ID"})]),_:1}),t(r,{label:"TTS API"},{default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),t(r,{label:"VCM ID"},{default:o(()=>[t(l,{placeholder:"请输入ID"})]),_:1}),t(r,{label:"VCM API"},{default:o(()=>[t(l,{placeholder:"请输入URL"})]),_:1}),i("div",Me,[t(n,{onClick:e[4]||(e[4]=u=>x.value=!1)},{default:o(()=>e[17]||(e[17]=[p("取消")])),_:1,__:[17]}),t(n,{type:"primary"},{default:o(()=>e[18]||(e[18]=[p("保存")])),_:1,__:[18]})])]),_:1})]),_:1},8,["visible"])]),_:1,__:[19]},8,["locale","theme"])}}}),ze=Ie(Be,[["__scopeId","data-v-53a7b504"]]);export{ze as default};
