import{d as w,c as b,o as m,_ as $,b as T,e as a,f as p,w as l,g as f,F as D,k as N,l as A,R as K,S as L,i as x,t as z,q as Y,r as g,a as G,m as J,n as Q,j as W,h as q}from"./index-BwXPi_UQ.js";const X={class:"page-title"},Z=w({__name:"ToyProductionTitle",setup(c){return(h,r)=>(m(),b("h2",X,"玩具生产"))}}),ee=$(Z,[["__scopeId","data-v-0874b88c"]]),te={class:"toy-production-header"},ae={class:"filter-section"},oe={class:"select-container"},ne={class:"select-container"},le={class:"action-section"},ie=w({__name:"ToyProductionHeader",props:{searchText:String,filterToyType:String,filterMaterial:String,uniqueToyTypes:{type:Array,default:()=>[]},uniqueMaterials:{type:Array,default:()=>[]}},emits:["update:searchText","update:filterToyType","update:filterMaterial","search","refresh","create-toy-production","configure-columns"],setup(c,{emit:h}){return(r,e)=>{const y=p("a-select-option"),v=p("a-select"),s=p("a-input-search"),u=p("a-button");return m(),b("div",te,[T("div",ae,[T("div",oe,[e[8]||(e[8]=T("span",{class:"select-always-placeholder"},"玩具类型:",-1)),a(v,{value:c.filterToyType,onChange:e[0]||(e[0]=t=>r.$emit("update:filterToyType",t)),style:{width:"120px"}},{default:l(()=>[a(y,{value:"all"},{default:l(()=>e[7]||(e[7]=[f("全部")])),_:1,__:[7]}),(m(!0),b(D,null,N(c.uniqueToyTypes,t=>(m(),x(y,{key:t,value:t},{default:l(()=>[f(z(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),T("div",ne,[e[10]||(e[10]=T("span",{class:"select-always-placeholder"},"材料:",-1)),a(v,{value:c.filterMaterial,onChange:e[1]||(e[1]=t=>r.$emit("update:filterMaterial",t)),style:{width:"120px"}},{default:l(()=>[a(y,{value:"all"},{default:l(()=>e[9]||(e[9]=[f("全部")])),_:1,__:[9]}),(m(!0),b(D,null,N(c.uniqueMaterials,t=>(m(),x(y,{key:t,value:t},{default:l(()=>[f(z(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),T("div",le,[a(s,{value:c.searchText,placeholder:"请输入关键字搜索",style:{width:"200px","margin-right":"8px"},onSearch:e[2]||(e[2]=t=>r.$emit("search",t)),onInput:e[3]||(e[3]=t=>r.$emit("update:searchText",t.target.value))},null,8,["value"]),a(u,{type:"primary",onClick:e[4]||(e[4]=t=>r.$emit("create-toy-production")),style:{"margin-right":"8px"}},{default:l(()=>e[11]||(e[11]=[f("新建玩具生产")])),_:1,__:[11]}),a(u,{onClick:e[5]||(e[5]=t=>r.$emit("refresh")),style:{"margin-right":"8px"}},{icon:l(()=>[a(A(K))]),_:1}),a(u,{onClick:e[6]||(e[6]=t=>r.$emit("configure-columns"))},{icon:l(()=>[a(A(L))]),_:1})])])}}}),re=$(ie,[["__scopeId","data-v-50c1dfc5"]]),se=w({__name:"ToyProductionTable",props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},loading:{type:Boolean,default:!1},pagination:{type:Object,required:!0}},emits:["change","edit-record","delete-record"],setup(c,{emit:h}){const r=h,e=s=>{r("change",s)},y=s=>{r("edit-record",s)},v=s=>{r("delete-record",s)};return(s,u)=>{const t=p("a-button"),I=p("a-popconfirm"),n=p("a-space"),C=p("a-table");return m(),x(C,{columns:c.columns,"data-source":c.data,loading:c.loading,pagination:c.pagination,onChange:e,bordered:"",scroll:{x:1800}},{bodyCell:l(({column:M,record:_})=>[M.key==="operation"?(m(),x(n,{key:0},{default:l(()=>[a(t,{type:"link",size:"small",onClick:S=>y(_)},{default:l(()=>u[0]||(u[0]=[f("编辑")])),_:2,__:[0]},1032,["onClick"]),a(I,{title:"确定删除吗?",onConfirm:S=>v(_),"ok-text":"是","cancel-text":"否"},{default:l(()=>[a(t,{type:"link",size:"small"},{default:l(()=>u[1]||(u[1]=[f("删除")])),_:1,__:[1]})]),_:2},1032,["onConfirm"])]),_:2},1024)):Y("",!0)]),_:1},8,["columns","data-source","loading","pagination"])}}}),ue=$(se,[["__scopeId","data-v-5f57fef5"]]),de={class:"toy-production-container"},ce=w({__name:"ToyProduction",setup(c){const h=g([]),r=g(!1),e=g(""),y=g("all"),v=g("all"),s=g(!1),u=g([]),t=g(["盲盒","手办","模型"]),I=g(["塑料","金属","木材","布料"]),n=G({current:1,pageSize:10,total:0,showTotal:o=>`第 ${(n.current-1)*n.pageSize+1}-${Math.min(n.current*n.pageSize,o)}条/共 ${o} 条`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"]}),C=[{title:"序号",dataIndex:"serialNumber",key:"serialNumber",fixed:"left",width:70},{title:"玩具ID",dataIndex:"toyID",key:"toyID",width:120},{title:"玩具名称",dataIndex:"toyName",key:"toyName",width:150},{title:"玩具类型",dataIndex:"toyType",key:"toyType",width:100},{title:"材料",dataIndex:"material",key:"material",width:100},{title:"生产日期",dataIndex:"productionDate",key:"productionDate",width:150,sorter:!0},{title:"批次号",dataIndex:"batchNumber",key:"batchNumber",width:120},{title:"数量",dataIndex:"quantity",key:"quantity",width:80},{title:"创建人",dataIndex:"creator",key:"creator",width:100},{title:"创建时间",dataIndex:"creationTime",key:"creationTime",width:150,sorter:!0},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:150,sorter:!0},{title:"操作",key:"operation",fixed:"right",width:150}],M=J(()=>C.filter(o=>u.value.includes(o.key))),_=async()=>{r.value=!0,console.log("Fetching toy production data with filters:",y.value,v.value,e.value),console.log("Pagination:",n.current,n.pageSize),await new Promise(i=>setTimeout(i,1e3));const o=Array.from({length:50}).map((i,k)=>({key:`toy-item-${k}`,serialNumber:k+1,toyID:`TOY${100+k}`,toyName:"智能机器人",toyType:"模型",material:"塑料",productionDate:"2025-07-20",batchNumber:`BATCH${200+k}`,quantity:Math.floor(Math.random()*1e3)+100,creator:"小明",creationTime:"2025-07-20 10:00:00",updateTime:"2025-07-20 11:30:00"}));h.value=o.slice((n.current-1)*n.pageSize,n.current*n.pageSize),n.total=o.length,r.value=!1},S=o=>{e.value=o,n.current=1,_()},B=o=>{n.current=o.current||1,n.pageSize=o.pageSize||10,_()},O=()=>{s.value=!0},P=()=>{s.value=!1},R=()=>{u.value=C.map(o=>o.key)},V=()=>{q.info("新建玩具生产 functionality to be implemented")},U=o=>{console.log("Editing record:",o),q.info("编辑 functionality to be implemented")},E=o=>{console.log("Deleting record:",o),q.info("删除 functionality to be implemented")};return Q(()=>{_(),R()}),W([y,v],()=>{n.current=1,_()}),(o,i)=>{const k=p("a-button"),F=p("a-checkbox"),H=p("a-checkbox-group"),j=p("a-modal");return m(),b("div",de,[a(ee),a(re,{searchText:e.value,"onUpdate:searchText":i[0]||(i[0]=d=>e.value=d),filterToyType:y.value,"onUpdate:filterToyType":i[1]||(i[1]=d=>y.value=d),filterMaterial:v.value,"onUpdate:filterMaterial":i[2]||(i[2]=d=>v.value=d),uniqueToyTypes:t.value,uniqueMaterials:I.value,onSearch:S,onRefresh:_,onCreateToyProduction:V,onConfigureColumns:O},null,8,["searchText","filterToyType","filterMaterial","uniqueToyTypes","uniqueMaterials"]),a(ue,{columns:M.value,data:h.value,loading:r.value,pagination:n,onChange:B,onEditRecord:U,onDeleteRecord:E},null,8,["columns","data","loading","pagination"]),a(j,{title:"Configure Table Columns",visible:s.value,"onUpdate:visible":i[4]||(i[4]=d=>s.value=d),onCancel:P,onOk:P},{default:l(()=>[T("div",null,[T("h3",null,[i[6]||(i[6]=f(" Visible Columns ")),a(k,{type:"link",onClick:R,style:{float:"right"}},{default:l(()=>i[5]||(i[5]=[f("Select All")])),_:1,__:[5]})]),a(H,{value:u.value,"onUpdate:value":i[3]||(i[3]=d=>u.value=d)},{default:l(()=>[(m(),b(D,null,N(C,d=>T("div",{key:d.key},[a(F,{value:d.key},{default:l(()=>[f(z(d.title),1)]),_:2},1032,["value"])])),64))]),_:1},8,["value"])])]),_:1},8,["visible"])])}}}),ye=$(ce,[["__scopeId","data-v-1a1642d7"]]);export{ye as default};
