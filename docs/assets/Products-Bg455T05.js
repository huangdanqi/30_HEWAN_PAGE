import{d as $,c as C,b as y,e as t,f as d,w as l,o as h,g as M,k as b,R as w,D as N,S as O,_ as x,i as T,n as q,r as _,a as R,m as z,h as g}from"./index-BwVehyap.js";const E={class:"table-header"},H={class:"table-operations"},V=$({__name:"ProductionHeader",props:{filterDeviceModel:String,filterManufacturer:String,searchText:String},emits:["update:filterDeviceModel","update:filterManufacturer","search","refresh","export","settings"],setup(s,{emit:k}){return(n,e)=>{const u=d("a-select-option"),c=d("a-select"),m=d("a-input-search"),i=d("a-button"),r=d("a-tooltip"),p=d("a-space");return h(),C("div",E,[e[9]||(e[9]=y("h2",null,"生产信息",-1)),y("div",H,[t(p,null,{default:l(()=>[t(c,{value:s.filterDeviceModel,placeholder:"设备型号: 全部",style:{width:"150px"},onChange:e[0]||(e[0]=o=>n.$emit("update:filterDeviceModel",o))},{default:l(()=>[t(u,{value:"all"},{default:l(()=>e[6]||(e[6]=[M("全部")])),_:1,__:[6]})]),_:1},8,["value"]),t(c,{value:s.filterManufacturer,placeholder:"生产厂家: 全部",style:{width:"150px"},onChange:e[1]||(e[1]=o=>n.$emit("update:filterManufacturer",o))},{default:l(()=>[t(u,{value:"all"},{default:l(()=>e[7]||(e[7]=[M("全部")])),_:1,__:[7]})]),_:1},8,["value"]),t(m,{value:s.searchText,placeholder:"请输入关键字搜索",style:{width:"200px"},onSearch:e[2]||(e[2]=o=>n.$emit("search",o))},null,8,["value"]),t(i,{type:"primary"},{default:l(()=>e[8]||(e[8]=[M("新增批次")])),_:1,__:[8]}),t(r,{title:"刷新"},{default:l(()=>[t(b(w),{onClick:e[3]||(e[3]=o=>n.$emit("refresh"))})]),_:1}),t(r,{title:"导出"},{default:l(()=>[t(b(N),{onClick:e[4]||(e[4]=o=>n.$emit("export"))})]),_:1}),t(r,{title:"设置"},{default:l(()=>[t(b(O),{onClick:e[5]||(e[5]=o=>n.$emit("settings"))})]),_:1})]),_:1})])])}}}),U=x(V,[["__scopeId","data-v-2f5a822d"]]),A=["onClick"],W=["onClick"],Z=$({__name:"ProductionTable",props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},loading:Boolean,pagination:{type:Object,required:!0}},emits:["change","edit-record","toggle-bom-status","delete-record"],setup(s,{emit:k}){return(n,e)=>{const u=d("a-divider"),c=d("a-popconfirm"),m=d("a-space"),i=d("a-table");return h(),T(i,{columns:s.columns,"data-source":s.data,loading:s.loading,pagination:s.pagination,onChange:e[0]||(e[0]=r=>n.$emit("change",r)),scroll:{x:1500}},{bodyCell:l(({column:r,record:p})=>[r.key==="operation"?(h(),T(m,{key:0},{default:l(()=>[y("a",{onClick:o=>n.$emit("edit-record",p)},"编辑",8,A),t(u,{type:"vertical"}),y("a",{onClick:o=>n.$emit("toggle-bom-status",p)},"上市/下市BOM",8,W),t(u,{type:"vertical"}),t(c,{title:"确定要删除该生产信息吗?",onConfirm:o=>n.$emit("delete-record",p)},{default:l(()=>e[1]||(e[1]=[y("a",{class:"danger-link"},"删除",-1)])),_:2,__:[1]},1032,["onConfirm"])]),_:2},1024)):q("",!0)]),_:1},8,["columns","data-source","loading","pagination"])}}}),j=x(Z,[["__scopeId","data-v-2d5b10ae"]]),F={class:"production-container"},G=$({__name:"Products",setup(s){const k=[{title:"序号",dataIndex:"serialNumber",key:"serialNumber",fixed:"left",width:70},{title:"设备型号",dataIndex:"deviceModel",key:"deviceModel"},{title:"生产批次",dataIndex:"productionBatch",key:"productionBatch"},{title:"生产厂家",dataIndex:"manufacturer",key:"manufacturer"},{title:"单价 (元)",dataIndex:"unitPrice",key:"unitPrice"},{title:"数量 (个)",dataIndex:"quantity",key:"quantity"},{title:"总价 (元)",dataIndex:"totalPrice",key:"totalPrice"},{title:"创建人",dataIndex:"creator",key:"creator"},{title:"创建时间",dataIndex:"creationTime",key:"creationTime"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",key:"operation",fixed:"right",width:180}],n=_(!1),e=_([]),u=_(""),c=_("all"),m=_("all"),i=R({total:0,current:1,pageSize:3,showSizeChanger:!0,showTotal:a=>`第 ${i.current}-${Math.min(i.current*i.pageSize,a)} 条/共 ${a} 条`}),r=async()=>{n.value=!0;try{await new Promise(a=>setTimeout(a,1e3)),e.value=[{key:"1",serialNumber:1,deviceModel:"HWSZ001",productionBatch:"2025-06-30",manufacturer:"深圳天德胜科技有限公司",unitPrice:86.75,quantity:500,totalPrice:43375,creator:"33",creationTime:"2025-7-13 19:25:11",updateTime:"2025-7-13 19:25:11"},{key:"2",serialNumber:2,deviceModel:"HWSZ001",productionBatch:"2025-06-30",manufacturer:"深圳天德胜科技有限公司",unitPrice:86.75,quantity:500,totalPrice:43375,creator:"33",creationTime:"2025-7-13 19:25:11",updateTime:"2025-7-13 19:25:11"}],i.total=43}catch{g.error("Failed to fetch production data")}finally{n.value=!1}},p=a=>{i.current=a.current||1,i.pageSize=a.pageSize||10,r()},o=a=>{console.log("Editing record:",a),g.info("编辑 functionality to be implemented")},S=a=>{console.log("Toggling BOM status for:",a),g.info("上市/下市BOM functionality to be implemented")},P=async a=>{console.log("Deleting record:",a),g.info("删除 functionality to be implemented")},B=a=>{u.value=a,i.current=1,r()},D=()=>{g.info("导出 functionality to be implemented")},I=()=>{g.info("设置 functionality to be implemented")};return z(()=>{r()}),(a,f)=>(h(),C("div",F,[t(U,{filterDeviceModel:c.value,"onUpdate:filterDeviceModel":f[0]||(f[0]=v=>c.value=v),filterManufacturer:m.value,"onUpdate:filterManufacturer":f[1]||(f[1]=v=>m.value=v),searchText:u.value,"onUpdate:searchText":f[2]||(f[2]=v=>u.value=v),onSearch:B,onRefresh:r,onExport:D,onSettings:I},null,8,["filterDeviceModel","filterManufacturer","searchText"]),t(j,{columns:k,data:e.value,loading:n.value,pagination:i,onChange:p,onEditRecord:o,onToggleBomStatus:S,onDeleteRecord:P},null,8,["data","loading","pagination"])]))}}),K=x(G,[["__scopeId","data-v-1602ffd9"]]);export{K as default};
