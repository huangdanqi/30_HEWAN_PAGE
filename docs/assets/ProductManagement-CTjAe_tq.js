import{d as S,c as k,o as m,_ as D,b as v,e as a,f as g,w as n,g as f,F as I,k as P,l as A,R as L,s as G,S as J,i as b,t as w,q as Q,r as y,a as X,m as Y,n as ee,j as te,h as M}from"./index-CyWMFCyx.js";const ae={class:"page-title"},ne=S({__name:"ProductManagementTitle",setup(s){return(C,r)=>(m(),k("h2",ae,"产品管理"))}}),oe=D(ne,[["__scopeId","data-v-8ddf317d"]]),le={class:"product-management-header"},ie={class:"filter-section"},re={class:"select-container"},ue={class:"select-container"},se={class:"select-container"},de={class:"action-section"},ce=S({__name:"ProductManagementHeader",props:{searchText:String,filterDeviceModel:String,filterProductType:String,filterIpName:String,uniqueDeviceModels:{type:Array,default:()=>[]},uniqueProductTypes:{type:Array,default:()=>[]},uniqueIpNames:{type:Array,default:()=>[]}},emits:["update:searchText","update:filterDeviceModel","update:filterProductType","update:filterIpName","search","refresh","create-product","show-info","configure-columns"],setup(s,{emit:C}){return(r,e)=>{const c=g("a-select-option"),_=g("a-select"),p=g("a-input-search"),d=g("a-button");return m(),k("div",le,[v("div",ie,[v("div",re,[e[10]||(e[10]=v("span",{class:"select-always-placeholder"},"设备型号:",-1)),a(_,{value:s.filterDeviceModel,onChange:e[0]||(e[0]=t=>r.$emit("update:filterDeviceModel",t)),style:{width:"120px"}},{default:n(()=>[a(c,{value:"all"},{default:n(()=>e[9]||(e[9]=[f("全部")])),_:1,__:[9]}),(m(!0),k(I,null,P(s.uniqueDeviceModels,t=>(m(),b(c,{key:t,value:t},{default:n(()=>[f(w(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),v("div",ue,[e[12]||(e[12]=v("span",{class:"select-always-placeholder"},"产品类型:",-1)),a(_,{value:s.filterProductType,onChange:e[1]||(e[1]=t=>r.$emit("update:filterProductType",t)),style:{width:"120px"}},{default:n(()=>[a(c,{value:"all"},{default:n(()=>e[11]||(e[11]=[f("全部")])),_:1,__:[11]}),(m(!0),k(I,null,P(s.uniqueProductTypes,t=>(m(),b(c,{key:t,value:t},{default:n(()=>[f(w(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),v("div",se,[e[14]||(e[14]=v("span",{class:"select-always-placeholder"},"IP名称:",-1)),a(_,{value:s.filterIpName,onChange:e[2]||(e[2]=t=>r.$emit("update:filterIpName",t)),style:{width:"120px"}},{default:n(()=>[a(c,{value:"all"},{default:n(()=>e[13]||(e[13]=[f("全部")])),_:1,__:[13]}),(m(!0),k(I,null,P(s.uniqueIpNames,t=>(m(),b(c,{key:t,value:t},{default:n(()=>[f(w(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),v("div",de,[a(p,{value:s.searchText,placeholder:"请输入关键字搜索",style:{width:"200px","margin-right":"8px"},onSearch:e[3]||(e[3]=t=>r.$emit("search",t)),onInput:e[4]||(e[4]=t=>r.$emit("update:searchText",t.target.value))},null,8,["value"]),a(d,{type:"primary",onClick:e[5]||(e[5]=t=>r.$emit("create-product")),style:{"margin-right":"8px"}},{default:n(()=>e[15]||(e[15]=[f("新建产品")])),_:1,__:[15]}),a(d,{onClick:e[6]||(e[6]=t=>r.$emit("refresh")),style:{"margin-right":"8px"}},{icon:n(()=>[a(A(L))]),_:1}),a(d,{onClick:e[7]||(e[7]=t=>r.$emit("show-info")),style:{"margin-right":"8px"}},{icon:n(()=>[a(A(G))]),_:1}),a(d,{onClick:e[8]||(e[8]=t=>r.$emit("configure-columns"))},{icon:n(()=>[a(A(J))]),_:1})])])}}}),pe=D(ce,[["__scopeId","data-v-c4cc504a"]]),me=["src"],fe=S({__name:"ProductManagementTable",props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},loading:{type:Boolean,default:!1},pagination:{type:Object,required:!0}},emits:["change","edit-record","delete-record"],setup(s,{emit:C}){const r=C,e=p=>{r("change",p)},c=p=>{r("edit-record",p)},_=p=>{r("delete-record",p)};return(p,d)=>{const t=g("a-button"),N=g("a-popconfirm"),$=g("a-space"),q=g("a-table");return m(),b(q,{columns:s.columns,"data-source":s.data,loading:s.loading,pagination:s.pagination,onChange:e,bordered:"",scroll:{x:1800}},{bodyCell:n(({column:o,record:h})=>[o.key==="operation"?(m(),b($,{key:0},{default:n(()=>[a(t,{type:"link",size:"small",onClick:z=>c(h)},{default:n(()=>d[0]||(d[0]=[f("编辑")])),_:2,__:[0]},1032,["onClick"]),a(N,{title:"确定删除吗?",onConfirm:z=>_(h),"ok-text":"是","cancel-text":"否"},{default:n(()=>[a(t,{type:"link",size:"small"},{default:n(()=>d[1]||(d[1]=[f("删除")])),_:1,__:[1]})]),_:2},1032,["onConfirm"])]),_:2},1024)):o.key==="creator"?(m(),k(I,{key:1},[v("img",{src:h.creatorAvatar,alt:"Creator Avatar",style:{width:"24px",height:"24px","border-radius":"50%","margin-right":"8px","vertical-align":"middle"}},null,8,me),f(" "+w(h.creator),1)],64)):Q("",!0)]),_:1},8,["columns","data-source","loading","pagination"])}}}),ve=D(fe,[["__scopeId","data-v-791cce6d"]]),ge={class:"product-management-container"},ye=S({__name:"ProductManagement",setup(s){const C=y([]),r=y(!1),e=y(""),c=y("all"),_=y("all"),p=y("all"),d=y(!1),t=y([]),N=y(["HWSZ001","HWSZ002"]),$=y(["盲盒挂件","玩具"]),q=y(["哆啦A梦","蜡笔小新"]),o=X({current:1,pageSize:10,total:0,showTotal:l=>`第 ${(o.current-1)*o.pageSize+1}-${Math.min(o.current*o.pageSize,l)}条/共 ${l} 条`,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"]}),h=[{title:"序号",dataIndex:"serialNumber",key:"serialNumber",fixed:"left",width:70},{title:"产品ID",dataIndex:"productID",key:"productID",width:120},{title:"产品名称",dataIndex:"productName",key:"productName",width:150},{title:"产品类型",dataIndex:"productType",key:"productType",width:100},{title:"颜色",dataIndex:"color",key:"color",width:80},{title:"产品详情",dataIndex:"productDetails",key:"productDetails",width:200},{title:"设备型号",dataIndex:"deviceModel",key:"deviceModel",width:120},{title:"IP名称",dataIndex:"ipName",key:"ipName",width:100},{title:"创建人",dataIndex:"creator",key:"creator",width:100},{title:"创建时间",dataIndex:"creationTime",key:"creationTime",width:150,sorter:!0},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:150,sorter:!0},{title:"操作",key:"operation",fixed:"right",width:150}],z=Y(()=>h.filter(l=>t.value.includes(l.key))),T=async()=>{r.value=!0,console.log("Fetching product data with filters:",c.value,_.value,p.value,e.value),console.log("Pagination:",o.current,o.pageSize),await new Promise(i=>setTimeout(i,1e3));const l=Array.from({length:50}).map((i,x)=>({key:`product-item-${x}`,serialNumber:x+1,productID:`HWSZ00${100+x}`,productName:"粉色啵啵盲盒挂件",productType:"盲盒挂件",color:"荧光粉",productDetails:"布料：云潮望 獭兔毛 10毛 33号；...",deviceModel:"HWSZ001",ipName:"啵啵",creator:"33",creatorAvatar:"/images/avatar.jpg",creationTime:"2025-7-13 19:25:11",updateTime:"2025-7-13 19:25:11"}));C.value=l.slice((o.current-1)*o.pageSize,o.current*o.pageSize),o.total=l.length,r.value=!1},O=l=>{e.value=l,o.current=1,T()},U=l=>{o.current=l.current||1,o.pageSize=l.pageSize||10,T()},V=()=>{d.value=!0},R=()=>{d.value=!1},H=()=>{t.value=h.map(l=>l.key)},B=()=>{M.info("新建产品 functionality to be implemented")},E=()=>{M.info("显示信息 functionality to be implemented")},W=l=>{console.log("Editing record:",l),M.info("编辑 functionality to be implemented")},Z=l=>{console.log("Deleting record:",l),M.info("删除 functionality to be implemented")};return ee(()=>{T(),H()}),te([c,_,p],()=>{o.current=1,T()}),(l,i)=>{const x=g("a-button"),j=g("a-checkbox"),F=g("a-checkbox-group"),K=g("a-modal");return m(),k("div",ge,[a(oe),a(pe,{searchText:e.value,"onUpdate:searchText":i[0]||(i[0]=u=>e.value=u),filterDeviceModel:c.value,"onUpdate:filterDeviceModel":i[1]||(i[1]=u=>c.value=u),filterProductType:_.value,"onUpdate:filterProductType":i[2]||(i[2]=u=>_.value=u),filterIpName:p.value,"onUpdate:filterIpName":i[3]||(i[3]=u=>p.value=u),uniqueDeviceModels:N.value,uniqueProductTypes:$.value,uniqueIpNames:q.value,onSearch:O,onRefresh:T,onCreateProduct:B,onShowInfo:E,onConfigureColumns:V},null,8,["searchText","filterDeviceModel","filterProductType","filterIpName","uniqueDeviceModels","uniqueProductTypes","uniqueIpNames"]),a(ve,{columns:z.value,data:C.value,loading:r.value,pagination:o,onChange:U,onEditRecord:W,onDeleteRecord:Z},null,8,["columns","data","loading","pagination"]),a(K,{title:"Configure Table Columns",visible:d.value,"onUpdate:visible":i[5]||(i[5]=u=>d.value=u),onCancel:R,onOk:R},{default:n(()=>[v("div",null,[v("h3",null,[i[7]||(i[7]=f(" Visible Columns ")),a(x,{type:"link",onClick:H,style:{float:"right"}},{default:n(()=>i[6]||(i[6]=[f("Select All")])),_:1,__:[6]})]),a(F,{value:t.value,"onUpdate:value":i[4]||(i[4]=u=>t.value=u)},{default:n(()=>[(m(),k(I,null,P(h,u=>v("div",{key:u.key},[a(j,{value:u.key},{default:n(()=>[f(w(u.title),1)]),_:2},1032,["value"])])),64))]),_:1},8,["value"])])]),_:1},8,["visible"])])}}}),he=D(ye,[["__scopeId","data-v-456303c0"]]);export{he as default};
